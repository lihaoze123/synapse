import{Q as Bo,c as Ho,u as $o}from"./useAuth-2B9FPw-q.js";import{w as Uo,x as Wn,y as Vo,z as zo,c as we,t as We,A as br,r as a,C as Ko,D as He,F as Yn,E as $e,f as tt,m as Ot,G as qn,j as y,H as yr,a as Je,I as Wo,u as Ye,J as qt,K as kt,M as xr,i as Se,P as zt,Q as vr,S as un,T as Yo,U as qo,V as Go,W as Er,N as On,Y as Xo,Z as Gt,_ as Rr,b as De,$ as Qo,a0 as Zo,a1 as Jo,a2 as Pn,a3 as es,a4 as ts,a5 as ns,a6 as rs,a7 as os,a8 as ss,a9 as Kt,aa as Gn,ab as Xn,ac as is,ad as cs,e as Sr,ae as Ct,af as ft,ag as dt,L as st,ah as as,ai as us,aj as ls,ak as ln,al as fn,am as dn,an as fs,d as ds,ao as ps,X as gs,ap as ms,aq as hs}from"./index-Bm4W7kcw.js";function bs(e){return Uo({select:t=>t.location})}var ys=class extends Bo{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Wn()})}getOptimisticResult(e){return e.behavior=Wn(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:o,isRefetching:s,isError:i,isRefetchError:c}=r,l=n.fetchMeta?.fetchMore?.direction,u=i&&l==="forward",d=o&&l==="forward",f=i&&l==="backward",g=o&&l==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:zo(t,n.data),hasPreviousPage:Vo(t,n.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:f,isFetchingPreviousPage:g,isRefetchError:c&&!u&&!f,isRefetching:s&&!d&&!g}}};function Yu(e,t){return Ho(e,ys)}const xs=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],vs=we("atom",xs);const Es=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Rs=we("braces",Es);const Ss=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qu=we("check",Ss);const ws=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cs=we("chevron-right",ws);const Ts=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Ms=we("chevrons-up-down",Ts);const Is=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Os=we("code",Is);const Ps=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ks=we("file-text",Ps);const Ns=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],As=we("git-branch",Ns);const Ls=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],js=we("hash",Ls);const Fs=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Ds=we("leaf",Fs);const _s=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Bs=we("log-in",_s);const Hs=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$s=we("log-out",Hs);const Us=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],wr=we("message-circle",Us);const Vs=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cr=we("search",Vs);const zs=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ks=we("settings",zs);const Ws=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Ys=we("terminal",Ws);const qs=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Gs=we("user-plus",qs);const Xs=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qs=we("user",Xs),Zs=500,Js=500,ei={style:{transition:"none"}},ti="data-base-ui-click-trigger",ni={fallbackAxisSide:"none"},ri={fallbackAxisSide:"end"},oi={clipPath:"inset(50%)",position:"fixed",top:0,left:0},pn=br[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],si=pn&&pn!==a.useLayoutEffect?pn:e=>e();function G(e){const t=We(ii).current;return t.next=e,si(t.effect),t.trampoline}function ii(){const e={next:void 0,callback:ci,trampoline:(...t)=>e.callback?.(...t),effect:()=>{e.callback=e.next}};return e}function ci(){}const ai={...br};let Qn=0;function ui(e,t="mui"){const[n,r]=a.useState(e),o=e||n;return a.useEffect(()=>{n==null&&(Qn+=1,r(`${t}-${Qn}`))},[n,t]),o}const Zn=ai.useId;function ut(e,t){if(Zn!==void 0){const n=Zn();return e??(t?`${t}-${n}`:n)}return ui(e,t)}function Tr(e){return ut(e,"base-ui")}const li=[];function Mr(e){a.useEffect(e,li)}const St=0;class at{static create(){return new at}currentId=St;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=St,n()},t)}isStarted(){return this.currentId!==St}clear=()=>{this.currentId!==St&&(clearTimeout(this.currentId),this.currentId=St)};disposeEffect=()=>this.clear}function Ae(){const e=We(at.create).current;return Mr(e.disposeEffect),e}const fi=()=>{},te=typeof document<"u"?a.useLayoutEffect:fi,vt=typeof navigator<"u",gn=mi(),Ir=bi(),Or=hi(),di=typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter:none"),pi=gn.platform==="MacIntel"&&gn.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(gn.platform),Pr=vt&&/apple/i.test(navigator.vendor),Rn=vt&&/android/i.test(Ir)||/android/i.test(Or),gi=vt&&Ir.toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints,kr=Or.includes("jsdom/");function mi(){if(!vt)return{platform:"",maxTouchPoints:-1};const e=navigator.userAgentData;return e?.platform?{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}function hi(){if(!vt)return"";const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function bi(){if(!vt)return"";const e=navigator.userAgentData;return e?.platform?e.platform:navigator.platform??""}const Sn="data-base-ui-focusable",Nr="active",Ar="selected",Lr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",Qe="ArrowLeft",Ze="ArrowRight",kn="ArrowUp",Nt="ArrowDown";function Ke(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function pe(e,t){if(!e||!t)return!1;const n=t.getRootNode?.();if(e.contains(t))return!0;if(n&&Ko(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Ne(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Ve(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function yi(e){return e.matches("html,body")}function Ee(e){return e?.ownerDocument||document}function Nn(e){return He(e)&&e.matches(Lr)}function wn(e){return e?e.getAttribute("role")==="combobox"&&Nn(e):!1}function xi(e){if(!e||kr)return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Xt(e){return e?e.hasAttribute(Sn)?e:e.querySelector(`[${Sn}]`)||e:null}function it(e,t,n=!0){return e.filter(o=>o.parentId===t&&(!n||o.context?.open)).flatMap(o=>[o,...it(e,o.id,n)])}function Jn(e,t){let n=[],r=e.find(o=>o.id===t)?.parentId;for(;r;){const o=e.find(s=>s.id===r);r=o?.parentId,o&&(n=n.concat(o))}return n}function Oe(e){e.preventDefault(),e.stopPropagation()}function vi(e){return"nativeEvent"in e}function jr(e){return e.mozInputSource===0&&e.isTrusted?!0:Rn&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Fr(e){return kr?!1:!Rn&&e.width===0&&e.height===0||Rn&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function mt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Dr(e){const t=e.type;return t==="click"||t==="mousedown"||t==="keydown"||t==="keyup"}function Lt(e,t,n){return Math.floor(e/t)!==n}function Tt(e,t){return t<0||t>=e.current.length}function mn(e,t){return Ie(e,{disabledIndices:t})}function er(e,t){return Ie(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Ie(e,{startingIndex:t=-1,decrement:n=!1,disabledIndices:r,amount:o=1}={}){let s=t;do s+=n?-o:o;while(s>=0&&s<=e.current.length-1&&Mt(e,s,r));return s}function Ei(e,{event:t,orientation:n,loopFocus:r,rtl:o,cols:s,disabledIndices:i,minIndex:c,maxIndex:l,prevIndex:u,stopEvent:d=!1}){let f=u;const g=[],E={};let x=!1;{let b=null,m=-1;e.current.forEach((S,R)=>{if(S==null)return;const p=S.closest('[role="row"]');p&&(x=!0),(p!==b||m===-1)&&(b=p,m+=1,g[m]=[]),g[m].push(R),E[R]=m})}const h=x&&g.length>0&&g.some(b=>b.length!==s);function v(b){if(!h||u===-1)return;const m=E[u];if(m==null)return;const S=g[m].indexOf(u);let R=b==="up"?m-1:m+1;r&&(R<0?R=g.length-1:R>=g.length&&(R=0));const p=new Set;for(;R>=0&&R<g.length&&!p.has(R);){p.add(R);const M=g[R];if(M.length===0){R=b==="up"?R-1:R+1;continue}const T=Math.min(S,M.length-1);for(let O=T;O>=0;O-=1){const D=M[O];if(!Mt(e,D,i))return D}R=b==="up"?R-1:R+1,r&&(R<0?R=g.length-1:R>=g.length&&(R=0))}}if(t.key===kn){const b=v("up");if(b!==void 0)d&&Oe(t),f=b;else{if(d&&Oe(t),u===-1)f=l;else if(f=Ie(e,{startingIndex:f,amount:s,decrement:!0,disabledIndices:i}),r&&(u-s<c||f<0)){const m=u%s,S=l%s,R=l-(S-m);S===m?f=l:f=S>m?R:R-s}Tt(e,f)&&(f=u)}}if(t.key===Nt){const b=v("down");b!==void 0?(d&&Oe(t),f=b):(d&&Oe(t),u===-1?f=c:(f=Ie(e,{startingIndex:u,amount:s,disabledIndices:i}),r&&u+s>l&&(f=Ie(e,{startingIndex:u%s-s,amount:s,disabledIndices:i}))),Tt(e,f)&&(f=u))}if(n==="both"){const b=Yn(u/s);t.key===(o?Qe:Ze)&&(d&&Oe(t),u%s!==s-1?(f=Ie(e,{startingIndex:u,disabledIndices:i}),r&&Lt(f,s,b)&&(f=Ie(e,{startingIndex:u-u%s-1,disabledIndices:i}))):r&&(f=Ie(e,{startingIndex:u-u%s-1,disabledIndices:i})),Lt(f,s,b)&&(f=u)),t.key===(o?Ze:Qe)&&(d&&Oe(t),u%s!==0?(f=Ie(e,{startingIndex:u,decrement:!0,disabledIndices:i}),r&&Lt(f,s,b)&&(f=Ie(e,{startingIndex:u+(s-u%s),decrement:!0,disabledIndices:i}))):r&&(f=Ie(e,{startingIndex:u+(s-u%s),decrement:!0,disabledIndices:i})),Lt(f,s,b)&&(f=u));const m=Yn(l/s)===b;Tt(e,f)&&(r&&m?f=t.key===(o?Ze:Qe)?l:Ie(e,{startingIndex:u-u%s-1,disabledIndices:i}):f=u)}return f}function Ri(e,t,n){const r=[];let o=0;return e.forEach(({width:s,height:i},c)=>{let l=!1;for(n&&(o=0);!l;){const u=[];for(let d=0;d<s;d+=1)for(let f=0;f<i;f+=1)u.push(o+d+f*t);o%t+s<=t&&u.every(d=>r[d]==null)?(u.forEach(d=>{r[d]=c}),l=!0):o+=1}}),[...r]}function Si(e,t,n,r,o){if(e===-1)return-1;const s=n.indexOf(e),i=t[e];switch(o){case"tl":return s;case"tr":return i?s+i.width-1:s;case"bl":return i?s+(i.height-1)*r:s;case"br":return n.lastIndexOf(e);default:return-1}}function wi(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function Mt(e,t,n){if(typeof n=="function")return n(t);if(n)return n.includes(t);const r=e.current[t];return r?r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true":!1}var Ci=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Qt=Ci.join(","),_r=typeof Element>"u",ht=_r?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Zt=!_r&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Pt=function(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=o===""||o==="true",i=s||n&&t&&Pt(t.parentNode);return i},Ti=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Br=function(t,n,r){if(Pt(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Qt));return n&&ht.call(t,Qt)&&o.unshift(t),o=o.filter(r),o},Jt=function(t,n,r){for(var o=[],s=Array.from(t);s.length;){var i=s.shift();if(!Pt(i,!1))if(i.tagName==="SLOT"){var c=i.assignedElements(),l=c.length?c:i.children,u=Jt(l,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:i,candidates:u})}else{var d=ht.call(i,Qt);d&&r.filter(i)&&(n||!t.includes(i))&&o.push(i);var f=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),g=!Pt(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(f&&g){var E=Jt(f===!0?i.children:f.children,!0,r);r.flatten?o.push.apply(o,E):o.push({scopeParent:i,candidates:E})}else s.unshift.apply(s,i.children)}}return o},Hr=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},$r=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Ti(t))&&!Hr(t)?0:t.tabIndex},Mi=function(t,n){var r=$r(t);return r<0&&n&&!Hr(t)?0:r},Ii=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Ur=function(t){return t.tagName==="INPUT"},Oi=function(t){return Ur(t)&&t.type==="hidden"},Pi=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},ki=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Ni=function(t){if(!t.name)return!0;var n=t.form||Zt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=ki(o,t.form);return!s||s===t},Ai=function(t){return Ur(t)&&t.type==="radio"},Li=function(t){return Ai(t)&&!Ni(t)},ji=function(t){var n,r=t&&Zt(t),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==t){var i,c,l;for(s=!!((i=o)!==null&&i!==void 0&&(c=i.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!s&&o;){var u,d,f;r=Zt(o),o=(u=r)===null||u===void 0?void 0:u.host,s=!!((d=o)!==null&&d!==void 0&&(f=d.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return s},tr=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Fi=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in t){var s=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(t).visibility==="hidden")return!0;var i=ht.call(t,"details>summary:first-of-type"),c=i?t.parentElement:t;if(ht.call(c,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof o=="function"){for(var l=t;t;){var u=t.parentElement,d=Zt(t);if(u&&!u.shadowRoot&&o(u)===!0)return tr(t);t.assignedSlot?t=t.assignedSlot:!u&&d!==t.ownerDocument?t=d.host:t=u}t=l}if(ji(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return tr(t);return!1},Di=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return ht.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Cn=function(t,n){return!(n.disabled||Pt(n)||Oi(n)||Fi(n,t)||Pi(n)||Di(n))},Tn=function(t,n){return!(Li(n)||$r(n)<0||!Cn(t,n))},_i=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Vr=function(t){var n=[],r=[];return t.forEach(function(o,s){var i=!!o.scopeParent,c=i?o.scopeParent:o,l=Mi(c,i),u=i?Vr(o.candidates):c;l===0?i?n.push.apply(n,u):n.push(c):r.push({documentOrder:s,tabIndex:l,item:o,isScope:i,content:u})}),r.sort(Ii).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},At=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Jt([t],n.includeContainer,{filter:Tn.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:_i}):r=Br(t,n.includeContainer,Tn.bind(null,n)),Vr(r)},Bi=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Jt([t],n.includeContainer,{filter:Cn.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Br(t,n.includeContainer,Cn.bind(null,n)),r},zr=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return ht.call(t,Qt)===!1?!1:Tn(n,t)};const Et=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Kr(e,t){const n=At(e,Et()),r=n.length;if(r===0)return;const o=Ke(Ee(e)),s=n.indexOf(o),i=s===-1?t===1?0:r-1:s+t;return n[i]}function An(e){return Kr(Ee(e).body,1)||e}function Wr(e){return Kr(Ee(e).body,-1)||e}function Yr(e,t){if(!e)return null;const n=At(Ee(e).body,Et()),r=n.length;if(r===0)return null;const o=n.indexOf(e);if(o===-1)return null;const s=(o+t+r)%r;return n[s]}function Hi(e){return Yr(e,1)}function $i(e){return Yr(e,-1)}function pt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!pe(n,r)}function Ui(e){At(e,Et()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function nr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Vi="none",ct="trigger-press",Fe="trigger-hover",en="trigger-focus",Ln="outside-press",qr="item-press",Gu="close-press",bt="focus-out",jn="escape-key",Wt="list-navigation",zi="cancel-open",wt="sibling-open",Ki="imperative-action";function he(e,t,n,r){let o=!1,s=!1;const i=$e;return{reason:e,event:t??new Event("base-ui"),cancel(){o=!0},allowPropagation(){s=!0},get isCanceled(){return o},get isPropagationAllowed(){return s},trigger:n,...i}}let tn=(function(e){return e.startingStyle="data-starting-style",e.endingStyle="data-ending-style",e})({});const Wi={[tn.startingStyle]:""},Yi={[tn.endingStyle]:""},qi={transitionStatus(e){return e==="starting"?Wi:e==="ending"?Yi:null}};let Fn=(function(e){return e.open="data-open",e.closed="data-closed",e[e.startingStyle=tn.startingStyle]="startingStyle",e[e.endingStyle=tn.endingStyle]="endingStyle",e.anchorHidden="data-anchor-hidden",e})({}),Mn=(function(e){return e.popupOpen="data-popup-open",e.pressed="data-pressed",e})({});const Gi={[Mn.popupOpen]:""},Xi={[Mn.popupOpen]:"",[Mn.pressed]:""},Qi={[Fn.open]:""},Zi={[Fn.closed]:""},Ji={[Fn.anchorHidden]:""},Xu={open(e){return e?Gi:null}},rr={open(e){return e?Xi:null}},Gr={open(e){return e?Qi:Zi},anchorHidden(e){return e?Ji:null}},ec=a.createContext(void 0);function Dn(e=!1){const t=a.useContext(ec);if(t===void 0&&!e)throw new Error(tt(16));return t}function tc(e){const{focusableWhenDisabled:t,disabled:n,composite:r=!1,tabIndex:o=0,isNativeButton:s}=e,i=r&&t!==!1,c=r&&t===!1;return{props:a.useMemo(()=>{const u={onKeyDown(d){n&&t&&d.key!=="Tab"&&d.preventDefault()}};return r||(u.tabIndex=o,!s&&n&&(u.tabIndex=t?o:-1)),(s&&(t||i)||!s&&n)&&(u["aria-disabled"]=n),s&&(!t||c)&&(u.disabled=n),u},[r,n,t,i,c,s,o])}}function Xr(e={}){const{disabled:t=!1,focusableWhenDisabled:n,tabIndex:r=0,native:o=!0}=e,s=a.useRef(null),i=Dn(!0)!==void 0,c=G(()=>{const g=s.current;return!!(g?.tagName==="A"&&g?.href)}),{props:l}=tc({focusableWhenDisabled:n,disabled:t,composite:i,tabIndex:r,isNativeButton:o}),u=a.useCallback(()=>{const g=s.current;nc(g)&&i&&t&&l.disabled===void 0&&g.disabled&&(g.disabled=!1)},[t,l.disabled,i]);te(u,[u]);const d=a.useCallback((g={})=>{const{onClick:E,onMouseDown:x,onKeyUp:h,onKeyDown:v,onPointerDown:b,...m}=g;return Ot({type:o?"button":void 0,onClick(R){if(t){R.preventDefault();return}E?.(R)},onMouseDown(R){t||x?.(R)},onKeyDown(R){if(t||(qn(R),v?.(R)),R.baseUIHandlerPrevented)return;const p=R.target===R.currentTarget&&!o&&!c()&&!t,M=R.key==="Enter",T=R.key===" ";p&&((T||M)&&R.preventDefault(),M&&E?.(R))},onKeyUp(R){t||(qn(R),h?.(R)),!R.baseUIHandlerPrevented&&R.target===R.currentTarget&&!o&&!t&&R.key===" "&&E?.(R)},onPointerDown(R){if(t){R.preventDefault();return}b?.(R)}},o?void 0:{role:"button"},l,m)},[t,l,o,c]),f=G(g=>{s.current=g,u()});return{getButtonProps:d,buttonRef:f}}function nc(e){return He(e)&&e.tagName==="BUTTON"}function Me(e){const t=We(rc,e).current;return t.next=e,te(t.effect),t}function rc(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}function Qr(){const e=new Map;return{emit(t,n){e.get(t)?.forEach(r=>r(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){e.get(t)?.delete(n)}}}class _n{nodesRef={current:[]};events=Qr();addNode(t){this.nodesRef.current.push(t)}removeNode(t){const n=this.nodesRef.current.findIndex(r=>r===t);n!==-1&&this.nodesRef.current.splice(n,1)}}const Zr=a.createContext(null),Jr=a.createContext(null),Ge=()=>a.useContext(Zr)?.id||null,nt=e=>{const t=a.useContext(Jr);return e??t};function eo(e){const t=ut(),n=nt(e),r=Ge();return te(()=>{if(!t)return;const o={id:t,parentId:r};return n?.addNode(o),()=>{n?.removeNode(o)}},[n,t,r]),t}function oc(e){const{children:t,id:n}=e,r=Ge();return y.jsx(Zr.Provider,{value:a.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function sc(e){const{children:t,externalTree:n}=e,r=We(()=>n??new _n).current;return y.jsx(Jr.Provider,{value:r,children:t})}function yt(e){return`data-base-ui-${e}`}function hn(e,t,n){if(n&&!mt(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}const to={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1},jt=null;class ic{callbacks=[];callbacksCount=0;nextId=1;startId=1;isScheduled=!1;tick=t=>{this.isScheduled=!1;const n=this.callbacks,r=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,r>0)for(let o=0;o<n.length;o+=1)n[o]?.(t)};request(t){const n=this.nextId;return this.nextId+=1,this.callbacks.push(t),this.callbacksCount+=1,!this.isScheduled&&(requestAnimationFrame(this.tick),this.isScheduled=!0),n}cancel(t){const n=t-this.startId;n<0||n>=this.callbacks.length||(this.callbacks[n]=null,this.callbacksCount-=1)}}const Ft=new ic;class ze{static create(){return new ze}static request(t){return Ft.request(t)}static cancel(t){return Ft.cancel(t)}currentId=jt;request(t){this.cancel(),this.currentId=Ft.request(()=>{this.currentId=jt,t()})}cancel=()=>{this.currentId!==jt&&(Ft.cancel(this.currentId),this.currentId=jt)};disposeEffect=()=>this.cancel}function rn(){const e=We(ze.create).current;return Mr(e.disposeEffect),e}function et(e){return e?.ownerDocument||document}const xt=a.forwardRef(function(t,n){const[r,o]=a.useState();te(()=>{Pr&&o("button")},[]);const s={tabIndex:0,role:r};return y.jsx("span",{...t,ref:n,style:to,"aria-hidden":r?void 0:!0,...s,"data-base-ui-focus-guard":""})});let or=0;function Yt(e,t={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(or);const s=()=>e?.focus({preventScroll:n});o?s():or=requestAnimationFrame(s)}const gt={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function sr(e){return e==="inert"?gt.inert:e==="aria-hidden"?gt["aria-hidden"]:gt.none}let Dt=new WeakSet,_t={},bn=0;const no=e=>e&&(e.host||no(e.parentNode)),cc=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=no(n);return e.contains(r)?r:null}).filter(n=>n!=null);function ac(e,t,n,r){const o="data-base-ui-inert",s=r?"inert":n?"aria-hidden":null,i=cc(t,e),c=new Set,l=new Set(i),u=[];_t[o]||(_t[o]=new WeakMap);const d=_t[o];i.forEach(f),g(t),c.clear();function f(E){!E||c.has(E)||(c.add(E),E.parentNode&&f(E.parentNode))}function g(E){!E||l.has(E)||[].forEach.call(E.children,x=>{if(yr(x)!=="script")if(c.has(x))g(x);else{const h=s?x.getAttribute(s):null,v=h!==null&&h!=="false",b=sr(s),m=(b.get(x)||0)+1,S=(d.get(x)||0)+1;b.set(x,m),d.set(x,S),u.push(x),m===1&&v&&Dt.add(x),S===1&&x.setAttribute(o,""),!v&&s&&x.setAttribute(s,s==="inert"?"":"true")}})}return bn+=1,()=>{u.forEach(E=>{const x=sr(s),v=(x.get(E)||0)-1,b=(d.get(E)||0)-1;x.set(E,v),d.set(E,b),v||(!Dt.has(E)&&s&&E.removeAttribute(s),Dt.delete(E)),b||E.removeAttribute(o)}),bn-=1,bn||(gt.inert=new WeakMap,gt["aria-hidden"]=new WeakMap,gt.none=new WeakMap,Dt=new WeakSet,_t={})}}function uc(e,t=!1,n=!1){const r=Ee(e[0]).body;return ac(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const ro=a.createContext(null),oo=()=>a.useContext(ro),lc=yt("portal");function fc(e={}){const{ref:t,container:n,componentProps:r=$e,elementProps:o,elementState:s}=e,i=ut(),l=oo()?.portalNode,[u,d]=a.useState(null),[f,g]=a.useState(null),E=a.useRef(null);te(()=>{if(n===null){E.current&&(E.current=null,g(null),d(null));return}if(i==null)return;const v=(n&&(Wo(n)?n:n.current))??l??document.body;if(v==null){E.current&&(E.current=null,g(null),d(null));return}E.current!==v&&(E.current=v,g(null),d(v))},[n,l,i]);const x=Ye("div",r,{ref:[t,g],state:s,props:[{id:i,[lc]:""},o]});return{portalNode:f,portalSubtree:u&&x?Je.createPortal(x,u):null}}const dc=a.forwardRef(function(t,n){const{children:r,container:o,className:s,render:i,renderGuards:c,...l}=t,{portalNode:u,portalSubtree:d}=fc({container:o,ref:n,componentProps:t,elementProps:l}),f=a.useRef(null),g=a.useRef(null),E=a.useRef(null),x=a.useRef(null),[h,v]=a.useState(null),b=h?.modal,m=h?.open,S=typeof c=="boolean"?c:!!h&&!h.modal&&h.open&&!!u;a.useEffect(()=>{if(!u||b)return;function p(M){u&&pt(M)&&(M.type==="focusin"?nr:Ui)(u)}return u.addEventListener("focusin",p,!0),u.addEventListener("focusout",p,!0),()=>{u.removeEventListener("focusin",p,!0),u.removeEventListener("focusout",p,!0)}},[u,b]),a.useEffect(()=>{!u||m||nr(u)},[m,u]);const R=a.useMemo(()=>({beforeOutsideRef:f,afterOutsideRef:g,beforeInsideRef:E,afterInsideRef:x,portalNode:u,setFocusManagerState:v}),[u]);return y.jsxs(a.Fragment,{children:[d,y.jsxs(ro.Provider,{value:R,children:[S&&u&&y.jsx(xt,{"data-type":"outside",ref:f,onFocus:p=>{if(pt(p,u))E.current?.focus();else{const M=h?h.domReference:null;Wr(M)?.focus()}}}),S&&u&&y.jsx("span",{"aria-owns":u.id,style:oi}),u&&Je.createPortal(r,u),S&&u&&y.jsx(xt,{"data-type":"outside",ref:g,onFocus:p=>{if(pt(p,u))x.current?.focus();else{const M=h?h.domReference:null;An(M)?.focus(),h?.closeOnFocusOut&&h?.onOpenChange(!1,he(bt,p.nativeEvent))}}})]})]})});function ot(e){return e==null?e:"current"in e?e.current:e}function pc(e,t){const n=kt(e.target);return e instanceof n.KeyboardEvent?"keyboard":e instanceof n.FocusEvent?t||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof n.MouseEvent?t||(e.detail===0?"keyboard":"mouse"):""}const ir=20;let Xe=[];function Bn(){Xe=Xe.filter(e=>e.isConnected)}function gc(e){Bn(),e&&yr(e)!=="body"&&(Xe.push(e),Xe.length>ir&&(Xe=Xe.slice(-ir)))}function yn(){return Bn(),Xe[Xe.length-1]}function mc(e){if(!e)return null;const t=Et();return zr(e,t)?e:At(e,t)[0]||e}function hc(e){return!e||!e.isConnected?!1:typeof e.checkVisibility=="function"?e.checkVisibility():xr(e).display!=="none"}function cr(e,t){if(!t.current.includes("floating")&&!e.getAttribute("role")?.includes("dialog"))return;const n=Et(),o=Bi(e,n).filter(i=>{const c=i.getAttribute("data-tabindex")||"";return zr(i,n)||i.hasAttribute("data-tabindex")&&!c.startsWith("-")}),s=e.getAttribute("tabindex");t.current.includes("floating")||o.length===0?s!=="0"&&e.setAttribute("tabindex","0"):(s!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function bc(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],initialFocus:s=!0,returnFocus:i=!0,restoreFocus:c=!1,modal:l=!0,closeOnFocusOut:u=!0,openInteractionType:d="",getInsideElements:f=()=>[],nextFocusableElement:g,previousFocusableElement:E,beforeContentFocusGuardRef:x,externalTree:h}=e,v="rootStore"in t?t.rootStore:t,b=v.useState("open"),m=v.useState("domReferenceElement"),S=v.useState("floatingElement"),{events:R,dataRef:p}=v.context,M=G(()=>p.current.floatingContext?.nodeId),T=G(f),O=s===!1,D=wn(m)&&O,W=Me(o),q=Me(s),L=Me(i),C=Me(d),U=nt(h),P=oo(),z=a.useRef(null),B=a.useRef(null),I=a.useRef(!1),K=a.useRef(!1),_=a.useRef(!1),X=a.useRef(-1),ie=a.useRef(""),N=a.useRef(""),ue=Ae(),de=Ae(),ne=rn(),Y=P!=null,H=Xt(S),le=G((A=H)=>A?At(A,Et()):[]),oe=G(A=>{const k=le(A);return W.current.map(()=>k).filter(Boolean).flat()});a.useEffect(()=>{if(r||!l)return;function A(re){re.key==="Tab"&&pe(H,Ke(Ee(H)))&&le().length===0&&!D&&Oe(re)}const k=Ee(H);return k.addEventListener("keydown",A),()=>{k.removeEventListener("keydown",A)}},[r,m,H,l,W,D,le,oe]),a.useEffect(()=>{if(r||!S)return;function A(k){const re=Ne(k),fe=le().indexOf(re);fe!==-1&&(X.current=fe)}return S.addEventListener("focusin",A),()=>{S.removeEventListener("focusin",A)}},[r,S,le]),a.useEffect(()=>{if(r||!b)return;const A=Ee(H);function k(){_.current=!1}function re(fe){const j=Ne(fe),se=pe(S,j)||pe(m,j)||pe(P?.portalNode,j);_.current=!se,N.current=fe.pointerType||"keyboard"}function Z(){N.current="keyboard"}return A.addEventListener("pointerdown",re,!0),A.addEventListener("pointerup",k,!0),A.addEventListener("pointercancel",k,!0),A.addEventListener("keydown",Z,!0),()=>{A.removeEventListener("pointerdown",re,!0),A.removeEventListener("pointerup",k,!0),A.removeEventListener("pointercancel",k,!0),A.removeEventListener("keydown",Z,!0)}},[r,S,m,H,b,P]),a.useEffect(()=>{if(r||!u)return;function A(){K.current=!0,de.start(0,()=>{K.current=!1})}function k(j){const se=j.relatedTarget,F=j.currentTarget,ee=Ne(j);queueMicrotask(()=>{const $=M(),ge=v.context.triggerElements,xe=!(pe(m,se)||pe(S,se)||pe(se,S)||pe(P?.portalNode,se)||se!=null&&ge.hasElement(se)||ge.hasMatchingElement(me=>pe(me,se))||se?.hasAttribute(yt("focus-guard"))||U&&(it(U.nodesRef.current,$).find(me=>pe(me.context?.elements.floating,se)||pe(me.context?.elements.domReference,se))||Jn(U.nodesRef.current,$).find(me=>[me.context?.elements.floating,Xt(me.context?.elements.floating)].includes(se)||me.context?.elements.domReference===se)));if(F===m&&H&&cr(H,W),c&&F!==m&&!hc(ee)&&Ke(Ee(H))===Ee(H).body){if(He(H)&&(H.focus(),c==="popup")){ne.request(()=>{H.focus()});return}const me=X.current,Ce=le(),Pe=Ce[me]||Ce[Ce.length-1]||H;He(Pe)&&Pe.focus()}if(p.current.insideReactTree){p.current.insideReactTree=!1;return}(D||!l)&&se&&xe&&!K.current&&(D||se!==yn())&&(I.current=!0,v.setOpen(!1,he(bt,j)))})}function re(){_.current||(p.current.insideReactTree=!0,ue.start(0,()=>{p.current.insideReactTree=!1}))}const Z=He(m)?m:null,fe=[];if(!(!S&&!Z))return Z&&(Z.addEventListener("focusout",k),Z.addEventListener("pointerdown",A),fe.push(()=>{Z.removeEventListener("focusout",k),Z.removeEventListener("pointerdown",A)})),S&&(S.addEventListener("focusout",k),P&&(S.addEventListener("focusout",re,!0),fe.push(()=>{S.removeEventListener("focusout",re,!0)})),fe.push(()=>{S.removeEventListener("focusout",k)})),()=>{fe.forEach(j=>{j()})}},[r,m,S,H,l,U,P,v,u,c,le,D,M,W,p,ue,de,ne]);const w=a.useRef(null),Q=a.useRef(null),V=qt(w,x,P?.beforeInsideRef),ye=qt(Q,P?.afterInsideRef);a.useEffect(()=>{if(r||!S||!b)return;const A=Array.from(P?.portalNode?.querySelectorAll(`[${yt("portal")}]`)||[]),re=(U?Jn(U.nodesRef.current,M()):[]).find(j=>wn(j.context?.elements.domReference||null))?.context?.elements.domReference,Z=[S,re,...A,...T(),z.current,B.current,w.current,Q.current,P?.beforeOutsideRef.current,P?.afterOutsideRef.current,ot(E),ot(g),D?m:null].filter(j=>j!=null),fe=uc(Z,l||D);return()=>{fe()}},[b,r,m,S,l,W,P,D,U,M,T,g,E]),te(()=>{if(!b||r||!He(H))return;const A=Ee(H),k=Ke(A);queueMicrotask(()=>{const re=oe(H),Z=q.current,fe=typeof Z=="function"?Z(C.current||""):Z;if(fe===void 0||fe===!1)return;let j;fe===!0||fe===null?j=re[0]||H:j=ot(fe),j=j||re[0]||H,!pe(H,k)&&Yt(j,{preventScroll:j===H})})},[r,b,H,O,oe,q,C]),te(()=>{if(r||!H)return;const A=Ee(H),k=Ke(A);gc(k);function re(j){if(j.open||(ie.current=pc(j.nativeEvent,N.current)),j.reason===Fe&&j.nativeEvent.type==="mouseleave"&&(I.current=!0),j.reason===Ln)if(j.nested)I.current=!1;else if(jr(j.nativeEvent)||Fr(j.nativeEvent))I.current=!1;else{let se=!1;document.createElement("div").focus({get preventScroll(){return se=!0,!1}}),se?I.current=!1:I.current=!0}}R.on("openchange",re);const Z=A.createElement("span");Z.setAttribute("tabindex","-1"),Z.setAttribute("aria-hidden","true"),Object.assign(Z.style,to),Y&&m&&m.insertAdjacentElement("afterend",Z);function fe(){const j=L.current;let se=typeof j=="function"?j(ie.current):j;if(se===void 0||se===!1)return null;if(se===null&&(se=!0),typeof se=="boolean"){const ee=m||yn();return ee&&ee.isConnected?ee:Z}const F=m||yn()||Z;return ot(se)||F}return()=>{R.off("openchange",re);const j=Ke(A),se=pe(S,j)||U&&it(U.nodesRef.current,M(),!1).some(ee=>pe(ee.context?.elements.floating,j)),F=fe();queueMicrotask(()=>{const ee=mc(F),$=typeof L.current!="boolean";L.current&&!I.current&&He(ee)&&(!(!$&&ee!==j&&j!==A.body)||se)&&ee.focus({preventScroll:!0}),Z.remove()})}},[r,S,H,L,p,R,U,Y,m,M]),a.useEffect(()=>{queueMicrotask(()=>{I.current=!1})},[r]),a.useEffect(()=>{if(r||!b)return;function A(re){Ne(re)?.closest(`[${ti}]`)&&(K.current=!0)}const k=Ee(H);return k.addEventListener("pointerdown",A,!0),()=>{k.removeEventListener("pointerdown",A,!0)}},[r,b,H]),te(()=>{if(!r&&P)return P.setFocusManagerState({modal:l,closeOnFocusOut:u,open:b,onOpenChange:v.setOpen,domReference:m}),()=>{P.setFocusManagerState(null)}},[r,P,l,b,v,u,m]),te(()=>{if(!(r||!H))return cr(H,W),()=>{queueMicrotask(Bn)}},[r,H,W]);const J=!r&&(l?!D:!0)&&(Y||l);return y.jsxs(a.Fragment,{children:[J&&y.jsx(xt,{"data-type":"inside",ref:V,onFocus:A=>{if(l){const k=oe();Yt(k[k.length-1])}else P?.portalNode&&(I.current=!1,pt(A,P.portalNode)?An(m)?.focus():ot(E??P.beforeOutsideRef)?.focus())}}),n,J&&y.jsx(xt,{"data-type":"inside",ref:ye,onFocus:A=>{l?Yt(oe()[0]):P?.portalNode&&(u&&(I.current=!0),pt(A,P.portalNode)?Wr(m)?.focus():ot(g??P.afterOutsideRef)?.focus())}})]})}function yc(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.context.dataRef,{enabled:o=!0,event:s="click",toggle:i=!0,ignoreMouse:c=!1,stickIfOpen:l=!0,touchOpenDelay:u=0}=t,d=a.useRef(void 0),f=rn(),g=Ae(),E=a.useMemo(()=>({onPointerDown(x){d.current=x.pointerType},onMouseDown(x){const h=d.current,v=x.nativeEvent,b=n.select("open");if(x.button!==0||s==="click"||mt(h,!0)&&c)return;const m=r.current.openEvent,S=m?.type,R=n.select("domReferenceElement")!==x.currentTarget,p=b&&R||!(b&&i&&(!(m&&l)||S==="click"||S==="mousedown"));if(Nn(v.target)){const T=he(ct,v,v.target);p&&h==="touch"&&u>0?g.start(u,()=>{n.setOpen(!0,T)}):n.setOpen(p,T);return}const M=x.currentTarget;f.request(()=>{const T=he(ct,v,M);p&&h==="touch"&&u>0?g.start(u,()=>{n.setOpen(!0,T)}):n.setOpen(p,T)})},onClick(x){if(s==="mousedown-only")return;const h=d.current;if(s==="mousedown"&&h){d.current=void 0;return}if(mt(h,!0)&&c)return;const v=n.select("open"),b=r.current.openEvent,m=n.select("domReferenceElement")!==x.currentTarget,S=v&&m||!(v&&i&&(!(b&&l)||Dr(b))),R=he(ct,x.nativeEvent,x.currentTarget);S&&h==="touch"&&u>0?g.start(u,()=>{n.setOpen(!0,R)}):n.setOpen(S,R)},onKeyDown(){d.current=void 0}}),[r,s,c,n,l,i,f,g,u]);return a.useMemo(()=>o?{reference:E}:$e,[o,E])}const xc={intentional:"onClick",sloppy:"onPointerDown"};function vc(e){return{escapeKey:typeof e=="boolean"?e:e?.escapeKey??!1,outsidePress:typeof e=="boolean"?e:e?.outsidePress??!0}}function Ec(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("referenceElement"),i=n.useState("domReferenceElement"),{onOpenChange:c,dataRef:l}=n.context,{enabled:u=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:g="sloppy",referencePress:E=!1,referencePressEvent:x="sloppy",ancestorScroll:h=!1,bubbles:v,externalTree:b}=t,m=nt(b),S=G(typeof f=="function"?f:()=>!1),R=typeof f=="function"?S:f,p=a.useRef(!1),{escapeKey:M,outsidePress:T}=vc(v),O=a.useRef(null),D=Ae(),W=Ae(),q=G(()=>{W.clear(),l.current.insideReactTree=!1}),L=a.useRef(!1),C=a.useRef(""),U=G(w=>{C.current=w.pointerType}),P=G(()=>{const w=C.current,Q=w==="pen"||!w?"mouse":w,V=typeof g=="function"?g():g;return typeof V=="string"?V:V[Q]}),z=G(w=>{if(!r||!u||!d||w.key!=="Escape"||L.current)return;const Q=l.current.floatingContext?.nodeId,V=m?it(m.nodesRef.current,Q):[];if(!M&&V.length>0){let A=!0;if(V.forEach(k=>{k.context?.open&&!k.context.dataRef.current.__escapeKeyBubbles&&(A=!1)}),!A)return}const ye=vi(w)?w.nativeEvent:w,J=he(jn,ye);n.setOpen(!1,J),!M&&!J.isPropagationAllowed&&w.stopPropagation()}),B=G(w=>{const Q=P();return Q==="intentional"&&w.type!=="click"||Q==="sloppy"&&w.type==="click"}),I=G(()=>{l.current.insideReactTree=!0,W.start(0,q)}),K=G((w,Q=!1)=>{if(B(w)){q();return}if(l.current.insideReactTree){q();return}if(P()==="intentional"&&Q||typeof R=="function"&&!R(w))return;const V=Ne(w),ye=`[${yt("inert")}]`,J=Ee(n.select("floatingElement")).querySelectorAll(ye),A=n.context.triggerElements;if(V&&(A.hasElement(V)||A.hasMatchingElement(j=>pe(j,V))))return;let k=Se(V)?V:null;for(;k&&!zt(k);){const j=vr(k);if(zt(j)||!Se(j))break;k=j}if(J.length&&Se(V)&&!yi(V)&&!pe(V,n.select("floatingElement"))&&Array.from(J).every(j=>!pe(k,j)))return;if(He(V)&&!("touches"in w)){const j=zt(V),se=xr(V),F=/auto|scroll/,ee=j||F.test(se.overflowX),$=j||F.test(se.overflowY),ge=ee&&V.clientWidth>0&&V.scrollWidth>V.clientWidth,xe=$&&V.clientHeight>0&&V.scrollHeight>V.clientHeight,me=se.direction==="rtl",Ce=xe&&(me?w.offsetX<=V.offsetWidth-V.clientWidth:w.offsetX>V.clientWidth),Pe=ge&&w.offsetY>V.clientHeight;if(Ce||Pe)return}const re=l.current.floatingContext?.nodeId,Z=m&&it(m.nodesRef.current,re).some(j=>Ve(w,j.context?.elements.floating));if(Ve(w,n.select("floatingElement"))||Ve(w,n.select("domReferenceElement"))||Z)return;const fe=m?it(m.nodesRef.current,re):[];if(fe.length>0){let j=!0;if(fe.forEach(se=>{se.context?.open&&!se.context.dataRef.current.__outsidePressBubbles&&(j=!1)}),!j)return}n.setOpen(!1,he(Ln,w)),q()}),_=G(w=>{P()!=="sloppy"||w.pointerType==="touch"||!n.select("open")||!u||Ve(w,n.select("floatingElement"))||Ve(w,n.select("domReferenceElement"))||K(w)}),X=G(w=>{if(P()!=="sloppy"||!n.select("open")||!u||Ve(w,n.select("floatingElement"))||Ve(w,n.select("domReferenceElement")))return;const Q=w.touches[0];Q&&(O.current={startTime:Date.now(),startX:Q.clientX,startY:Q.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},D.start(1e3,()=>{O.current&&(O.current.dismissOnTouchEnd=!1,O.current.dismissOnMouseDown=!1)}))}),ie=G(w=>{const Q=Ne(w);function V(){X(w),Q?.removeEventListener(w.type,V)}Q?.addEventListener(w.type,V)}),N=G(w=>{const Q=p.current;if(p.current=!1,D.clear(),w.type==="mousedown"&&O.current&&!O.current.dismissOnMouseDown)return;const V=Ne(w);function ye(){w.type==="pointerdown"?_(w):K(w,Q),V?.removeEventListener(w.type,ye)}V?.addEventListener(w.type,ye)}),ue=G(w=>{if(P()!=="sloppy"||!O.current||Ve(w,n.select("floatingElement"))||Ve(w,n.select("domReferenceElement")))return;const Q=w.touches[0];if(!Q)return;const V=Math.abs(Q.clientX-O.current.startX),ye=Math.abs(Q.clientY-O.current.startY),J=Math.sqrt(V*V+ye*ye);J>5&&(O.current.dismissOnTouchEnd=!0),J>10&&(K(w),D.clear(),O.current=null)}),de=G(w=>{const Q=Ne(w);function V(){ue(w),Q?.removeEventListener(w.type,V)}Q?.addEventListener(w.type,V)}),ne=G(w=>{P()!=="sloppy"||!O.current||Ve(w,n.select("floatingElement"))||Ve(w,n.select("domReferenceElement"))||(O.current.dismissOnTouchEnd&&K(w),D.clear(),O.current=null)}),Y=G(w=>{const Q=Ne(w);function V(){ne(w),Q?.removeEventListener(w.type,V)}Q?.addEventListener(w.type,V)});a.useEffect(()=>{if(!r||!u)return;l.current.__escapeKeyBubbles=M,l.current.__outsidePressBubbles=T;const w=new at;function Q(k){n.setOpen(!1,he(Vi,k))}function V(){w.clear(),L.current=!0}function ye(){w.start(Yo()?5:0,()=>{L.current=!1})}const J=Ee(o);J.addEventListener("pointerdown",U,!0),d&&(J.addEventListener("keydown",z),J.addEventListener("compositionstart",V),J.addEventListener("compositionend",ye)),R&&(J.addEventListener("click",N,!0),J.addEventListener("pointerdown",N,!0),J.addEventListener("touchstart",ie,!0),J.addEventListener("touchmove",de,!0),J.addEventListener("touchend",Y,!0),J.addEventListener("mousedown",N,!0));let A=[];return h&&(Se(i)&&(A=un(i)),Se(o)&&(A=A.concat(un(o))),!Se(s)&&s&&s.contextElement&&(A=A.concat(un(s.contextElement)))),A=A.filter(k=>k!==J.defaultView?.visualViewport),A.forEach(k=>{k.addEventListener("scroll",Q,{passive:!0})}),()=>{J.removeEventListener("pointerdown",U,!0),d&&(J.removeEventListener("keydown",z),J.removeEventListener("compositionstart",V),J.removeEventListener("compositionend",ye)),R&&(J.removeEventListener("click",N,!0),J.removeEventListener("pointerdown",N,!0),J.removeEventListener("touchstart",ie,!0),J.removeEventListener("touchmove",de,!0),J.removeEventListener("touchend",Y,!0),J.removeEventListener("mousedown",N,!0)),A.forEach(k=>{k.removeEventListener("scroll",Q)}),w.clear()}},[l,o,s,i,d,R,r,c,h,u,M,T,z,K,N,_,ie,de,Y,U,n]),a.useEffect(q,[R,q]);const H=a.useMemo(()=>({onKeyDown:z,...E&&{[xc[x]]:w=>{n.setOpen(!1,he(ct,w.nativeEvent))},...x!=="intentional"&&{onClick(w){n.setOpen(!1,he(ct,w.nativeEvent))}}}}),[z,n,E,x]),le=G(w=>{const Q=Ne(w.nativeEvent);!pe(n.select("floatingElement"),Q)||w.button!==0||(p.current=!0)}),oe=a.useMemo(()=>({onKeyDown:z,onPointerDown:le,onMouseDown:le,onMouseUp:le,onClickCapture:I,onMouseDownCapture:I,onPointerDownCapture:I,onMouseUpCapture:I,onTouchEndCapture:I,onTouchMoveCapture:I}),[z,le,I]);return a.useMemo(()=>u?{reference:H,floating:oe,trigger:H}:{},[u,H,oe])}var nn=Symbol("NOT_FOUND");function Rc(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Sc(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function wc(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ar=e=>Array.isArray(e)?e:[e];function Cc(e){const t=Array.isArray(e[0])?e[0]:e;return wc(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Tc(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}function Mc(e){let t;return{get(n){return t&&e(t.key,n)?t.value:nn},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Ic(e,t){let n=[];function r(c){const l=n.findIndex(u=>t(c,u.key));if(l>-1){const u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return nn}function o(c,l){r(c)===nn&&(n.unshift({key:c,value:l}),n.length>e&&n.pop())}function s(){return n}function i(){n=[]}return{get:r,put:o,getEntries:s,clear:i}}var Oc=(e,t)=>e===t;function Pc(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let s=0;s<o;s++)if(!e(n[s],r[s]))return!1;return!0}}function kc(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=Oc,maxSize:o=1,resultEqualityCheck:s}=n,i=Pc(r);let c=0;const l=o<=1?Mc(i):Ic(o,i);function u(){let d=l.get(arguments);if(d===nn){if(d=e.apply(null,arguments),c++,s){const g=l.getEntries().find(E=>s(E.value,d));g&&(d=g.value,c!==0&&c--)}l.put(arguments,d)}return d}return u.clearCache=()=>{l.clear(),u.resetResultsCount()},u.resultsCount=()=>c,u.resetResultsCount=()=>{c=0},u}var Nc=class{constructor(e){this.value=e}deref(){return this.value}},Ac=typeof WeakRef<"u"?WeakRef:Nc,Lc=0,ur=1;function Bt(){return{s:Lc,v:void 0,o:null,p:null}}function so(e,t={}){let n=Bt();const{resultEqualityCheck:r}=t;let o,s=0;function i(){let c=n;const{length:l}=arguments;for(let f=0,g=l;f<g;f++){const E=arguments[f];if(typeof E=="function"||typeof E=="object"&&E!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const h=x.get(E);h===void 0?(c=Bt(),x.set(E,c)):c=h}else{let x=c.p;x===null&&(c.p=x=new Map);const h=x.get(E);h===void 0?(c=Bt(),x.set(E,c)):c=h}}const u=c;let d;if(c.s===ur)d=c.v;else if(d=e.apply(null,arguments),s++,r){const f=o?.deref?.()??o;f!=null&&r(f,d)&&(d=f,s!==0&&s--),o=typeof d=="object"&&d!==null||typeof d=="function"?new Ac(d):d}return u.s=ur,u.v=d,d}return i.clearCache=()=>{n=Bt(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function io(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let s=0,i=0,c,l={},u=o.pop();typeof u=="object"&&(l=u,u=o.pop()),Rc(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:g=[],argsMemoize:E=so,argsMemoizeOptions:x=[]}=d,h=ar(g),v=ar(x),b=Cc(o),m=f(function(){return s++,u.apply(null,arguments)},...h),S=E(function(){i++;const p=Tc(b,arguments);return c=m.apply(null,p),c},...v);return Object.assign(S,{resultFunc:u,memoizedResultFunc:m,dependencies:b,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var jc=io(so),Fc=Object.assign((e,t=jc)=>{Sc(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((i,c,l)=>(i[n[l]]=c,i),{}))},{withTypes:()=>Fc});io({memoize:kc,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const ae=(e,t,n,r,o,s,...i)=>{if(i.length>0)throw new Error(tt(1));let c;if(e)c=e;else throw new Error("Missing arguments");return c};var Dc=qo();const _c=Er(19),Bc=_c?$c:Uc;function Hc(e,t,n,r,o){return Bc(e,t,n,r,o)}function $c(e,t,n,r,o){const s=a.useCallback(()=>t(e.getSnapshot(),n,r,o),[e,t,n,r,o]);return Dc.useSyncExternalStore(e.subscribe,s,s)}function Uc(e,t,n,r,o){return Go.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,s=>t(s,n,r,o))}class It{constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){if(this.state===t)return;this.state=t,this.updateTick+=1;const n=this.updateTick;for(const r of this.listeners){if(n!==this.updateTick)return;r(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){It.prototype.setState.call(this,{...this.state,...t});return}}set(t,n){Object.is(this.state[t],n)||It.prototype.setState.call(this,{...this.state,[t]:n})}notifyAll(){const t={...this.state};It.prototype.setState.call(this,t)}}class co extends It{constructor(t,n={},r){super(t),this.context=n,this.selectors=r}controlledValues=new Map;useSyncedValue(t,n){a.useDebugValue(t),te(()=>{this.state[t]!==n&&this.set(t,n)},[t,n])}useSyncedValueWithCleanup(t,n){te(()=>(this.state[t]!==n&&this.set(t,n),()=>{this.set(t,void 0)}),[t,n])}useSyncedValues(t){const n=Object.values(t);te(()=>{this.update(t)},n)}useControlledProp(t,n,r){a.useDebugValue(t);const o=n!==void 0;this.controlledValues.has(t)||(this.controlledValues.set(t,o),!o&&!Object.is(this.state[t],r)&&super.setState({...this.state,[t]:r})),te(()=>{o&&!Object.is(this.state[t],n)&&super.setState({...this.state,[t]:n})},[t,n,r,o])}set(t,n){this.controlledValues.get(t)!==!0&&super.set(t,n)}update(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.update(n)}setState(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.setState({...this.state,...n})}select=(t,n,r,o)=>{const s=this.selectors[t];return s(this.state,n,r,o)};useState=(t,n,r,o)=>{a.useDebugValue(t);const s=this.selectors[t];return Hc(this,s,n,r,o)};useContextCallback(t,n){a.useDebugValue(t);const r=G(n??On);this.context[t]=r}useStateSetter(t){const n=a.useRef(void 0);return n.current===void 0&&(n.current=r=>{this.set(t,r)}),n.current}observe(t,n){let r;typeof t=="function"?r=t:r=this.selectors[t];let o=r(this.state);return n(o,o,this),this.subscribe(s=>{const i=r(s);if(!Object.is(o,i)){const c=o;o=i,n(i,c,this)}})}}const Vc={open:ae(e=>e.open),domReferenceElement:ae(e=>e.domReferenceElement),referenceElement:ae(e=>e.positionReference??e.referenceElement),floatingElement:ae(e=>e.floatingElement),floatingId:ae(e=>e.floatingId)};class Hn extends co{constructor(t){const{nested:n,noEmit:r,onOpenChange:o,triggerElements:s,...i}=t;super({...i,positionReference:i.referenceElement,domReferenceElement:i.referenceElement},{onOpenChange:o,dataRef:{current:{}},events:Qr(),nested:n,noEmit:r,triggerElements:s},Vc)}setOpen=(t,n)=>{if((!t||!this.state.open||Dr(n.event))&&(this.context.dataRef.current.openEvent=t?n.event:void 0),!this.context.noEmit){const r={open:t,reason:n.reason,nativeEvent:n.event,nested:this.context.nested,triggerElement:n.trigger};this.context.events.emit("openchange",r)}this.context.onOpenChange?.(t,n)}}function zc(e,t=!1,n=!1){const[r,o]=a.useState(e&&t?"idle":void 0),[s,i]=a.useState(e);return e&&!s&&(i(!0),o("starting")),!e&&s&&r!=="ending"&&!n&&o("ending"),!e&&!s&&r==="ending"&&o(void 0),te(()=>{if(!e&&s&&r!=="ending"&&n){const c=ze.request(()=>{o("ending")});return()=>{ze.cancel(c)}}},[e,s,r,n]),te(()=>{if(!e||t)return;const c=ze.request(()=>{o(void 0)});return()=>{ze.cancel(c)}},[t,e]),te(()=>{if(!e||!t)return;e&&s&&r!=="idle"&&o("starting");const c=ze.request(()=>{o("idle")});return()=>{ze.cancel(c)}},[t,e,s,o,r]),a.useMemo(()=>({mounted:s,setMounted:i,transitionStatus:r}),[s,r])}function Kc(e,t=!1,n=!0){const r=rn();return G((o,s=null)=>{r.cancel();const i=ot(e);i!=null&&(typeof i.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?o():r.request(()=>{function c(){i&&Promise.all(i.getAnimations().map(l=>l.finished)).then(()=>{s!=null&&s.aborted||Je.flushSync(o)}).catch(()=>{if(n){if(s!=null&&s.aborted)return;Je.flushSync(o)}else i.getAnimations().length>0&&i.getAnimations().some(l=>l.pending||l.playState!=="finished")&&c()})}t?r.request(c):c()}))})}function ao(e){const{enabled:t=!0,open:n,ref:r,onComplete:o}=e,s=Me(n),i=G(o),c=Kc(r,n);a.useEffect(()=>{t&&c(()=>{n===s.current&&i()})},[t,n,i,c,s])}function Wc(e,t){const n=a.useRef(null);return a.useCallback(r=>{e!==void 0&&(n.current!==null&&(t.context.triggerElements.delete(n.current),n.current=null),r!==null&&(n.current=e,t.context.triggerElements.add(e,r)))},[t,e])}function Yc(e,t,n,r){const o=n.useState("isMountedByTrigger",e),s=Wc(e,n),i=G(c=>{s(c),c!==null&&n.select("open")&&n.select("activeTriggerId")==null&&n.update({activeTriggerId:e,activeTriggerElement:c,...r})});return te(()=>{o&&n.update({activeTriggerElement:t.current,...r})},[o,n,t,...Object.values(r)]),{registerTrigger:i,isMountedByThisTrigger:o}}function qc(e){const t=e.useState("open");te(()=>{if(t&&!e.select("activeTriggerId")&&e.context.triggerElements.size===1){const n=e.context.triggerElements.entries().next();if(!n.done){const[r,o]=n.value;e.update({activeTriggerId:r,activeTriggerElement:o})}}},[t,e])}function Gc(e,t,n){const{mounted:r,setMounted:o,transitionStatus:s}=zc(e);t.useSyncedValues({mounted:r,transitionStatus:s});const i=G(()=>{o(!1),t.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),n?.(),t.context.onOpenChangeComplete?.(!1)}),c=t.useState("preventUnmountingOnClose");return ao({enabled:!c,open:e,ref:t.context.popupRef,onComplete(){e||i()}}),{forceUnmount:i,transitionStatus:s}}class $n{constructor(){this.elements=new Set,this.idMap=new Map}add(t,n){const r=this.idMap.get(t);r!==n&&(r!==void 0&&this.elements.delete(r),this.elements.add(n),this.idMap.set(t,n))}delete(t){const n=this.idMap.get(t);n&&(this.elements.delete(n),this.idMap.delete(t))}hasElement(t){return this.elements.has(t)}hasMatchingElement(t){for(const n of this.elements)if(t(n))return!0;return!1}getById(t){return this.idMap.get(t)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function Xc(){return new Hn({open:!1,floatingElement:null,referenceElement:null,triggerElements:new $n,floatingId:"",nested:!1,noEmit:!1,onOpenChange:void 0})}function Qc(){return{open:!1,mounted:!1,transitionStatus:"idle",floatingRootContext:Xc(),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:$e,inactiveTriggerProps:$e,popupProps:$e}}const Zc={open:ae(e=>e.open),mounted:ae(e=>e.mounted),transitionStatus:ae(e=>e.transitionStatus),floatingRootContext:ae(e=>e.floatingRootContext),preventUnmountingOnClose:ae(e=>e.preventUnmountingOnClose),payload:ae(e=>e.payload),activeTriggerId:ae(e=>e.activeTriggerId),activeTriggerElement:ae(e=>e.mounted?e.activeTriggerElement:null),isTriggerActive:ae((e,t)=>t!==void 0&&e.activeTriggerId===t),isOpenedByTrigger:ae((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.open),isMountedByTrigger:ae((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.mounted),triggerProps:ae((e,t)=>t?e.activeTriggerProps:e.inactiveTriggerProps),popupProps:ae(e=>e.popupProps),popupElement:ae(e=>e.popupElement),positionerElement:ae(e=>e.positionerElement)};function Jc(e){const{open:t=!1,onOpenChange:n,elements:r={}}=e,o=ut(),s=Ge()!=null,i=We(()=>new Hn({open:t,onOpenChange:n,referenceElement:r.reference??null,floatingElement:r.floating??null,triggerElements:r.triggers??new $n,floatingId:o,nested:s,noEmit:e.noEmit||!1})).current;return te(()=>{const c={open:t,floatingId:o};r.reference!==void 0&&(c.referenceElement=r.reference,c.domReferenceElement=Se(r.reference)?r.reference:null),r.floating!==void 0&&(c.floatingElement=r.floating),i.update(c)},[t,o,r.reference,r.floating,i]),i.context.onOpenChange=n,i.context.nested=s,i.context.noEmit=e.noEmit||!1,i}function ea(e={}){const{nodeId:t,externalTree:n}=e,r=Jc(e),o=e.rootContext||r,s={reference:o.useState("referenceElement"),floating:o.useState("floatingElement"),domReference:o.useState("domReferenceElement")},[i,c]=a.useState(null),l=a.useRef(null),u=nt(n);te(()=>{s.domReference&&(l.current=s.domReference)},[s.domReference]);const d=Xo({...e,elements:{...s,...i&&{reference:i}}}),f=a.useCallback(T=>{const O=Se(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),getClientRects:()=>T.getClientRects(),contextElement:T}:T;c(O),d.refs.setReference(O)},[d.refs]),[g,E]=a.useState(null),[x,h]=a.useState(null);o.useSyncedValue("referenceElement",g),o.useSyncedValue("domReferenceElement",Se(g)?g:null),o.useSyncedValue("floatingElement",x);const v=a.useCallback(T=>{(Se(T)||T===null)&&(l.current=T,E(T)),(Se(d.refs.reference.current)||d.refs.reference.current===null||T!==null&&!Se(T))&&d.refs.setReference(T)},[d.refs,E]),b=a.useCallback(T=>{h(T),d.refs.setFloating(T)},[d.refs]),m=a.useMemo(()=>({...d.refs,setReference:v,setFloating:b,setPositionReference:f,domReference:l}),[d.refs,v,b,f]),S=a.useMemo(()=>({...d.elements,domReference:s.domReference}),[d.elements,s.domReference]),R=o.useState("open"),p=o.useState("floatingId"),M=a.useMemo(()=>({...d,dataRef:o.context.dataRef,open:R,onOpenChange:o.setOpen,events:o.context.events,floatingId:p,refs:m,elements:S,nodeId:t,rootStore:o}),[d,m,S,t,o,R,p]);return te(()=>{o.context.dataRef.current.floatingContext=M;const T=u?.nodesRef.current.find(O=>O.id===t);T&&(T.context=M)}),a.useMemo(()=>({...d,context:M,refs:m,elements:S,rootStore:o}),[d,m,S,M,o])}function ta(e){const{popupStore:t,noEmit:n=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:o}=e,s=ut(),i=Ge()!=null,c=t.useState("open"),l=t.useState("activeTriggerElement"),u=t.useState(r?"popupElement":"positionerElement"),d=t.context.triggerElements,f=We(()=>new Hn({open:c,referenceElement:l,floatingElement:u,triggerElements:d,onOpenChange:o,floatingId:s,nested:i,noEmit:n})).current;return te(()=>{const g={open:c,floatingId:s,referenceElement:l,floatingElement:u};Se(l)&&(g.domReferenceElement=l),f.update(g)},[c,s,l,u,f]),f.context.onOpenChange=o,f.context.nested=i,f.context.noEmit=n,f}const xn=gi&&Pr;function na(e,t={}){const n="rootStore"in e?e.rootStore:e,{events:r,dataRef:o}=n.context,{enabled:s=!0,visibleOnly:i=!0}=t,c=a.useRef(!1),l=Ae(),u=a.useRef(!0);a.useEffect(()=>{const f=n.select("domReferenceElement");if(!s)return;const g=kt(f);function E(){!n.select("open")&&He(f)&&f===Ke(Ee(f))&&(c.current=!0)}function x(){u.current=!0}function h(){u.current=!1}return g.addEventListener("blur",E),xn&&(g.addEventListener("keydown",x,!0),g.addEventListener("pointerdown",h,!0)),()=>{g.removeEventListener("blur",E),xn&&(g.removeEventListener("keydown",x,!0),g.removeEventListener("pointerdown",h,!0))}},[n,s]),a.useEffect(()=>{if(!s)return;function f(g){(g.reason===ct||g.reason===jn)&&(c.current=!0)}return r.on("openchange",f),()=>{r.off("openchange",f)}},[r,s]);const d=a.useMemo(()=>({onMouseLeave(){c.current=!1},onFocus(f){if(c.current)return;const g=Ne(f.nativeEvent);if(i&&Se(g)){if(xn&&!f.relatedTarget){if(!u.current&&!Nn(g))return}else if(!xi(g))return}n.setOpen(!0,he(en,f.nativeEvent,f.currentTarget))},onBlur(f){c.current=!1;const g=f.relatedTarget,E=f.nativeEvent,x=Se(g)&&g.hasAttribute(yt("focus-guard"))&&g.getAttribute("data-type")==="outside";l.start(0,()=>{const h=n.select("domReferenceElement"),v=Ke(h?h.ownerDocument:document);!g&&v===h||pe(o.current.floatingContext?.refs.floating.current,v)||pe(h,v)||x||n.context.triggerElements.hasElement(f.relatedTarget)||n.setOpen(!1,he(en,E))})}}),[o,n,i,l]);return a.useMemo(()=>s?{reference:d,trigger:d}:{},[s,d])}const In=yt("safe-polygon"),ra=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${Lr}`;function oa(e){return e?!!e.closest(ra):!1}function uo(e){const t=a.useRef(void 0),n=a.useRef(!1),r=a.useRef(void 0),o=a.useRef(!0),s=a.useRef(!1),i=a.useRef(()=>{}),c=a.useRef(!1),l=Ae(),u=Ae(),d=a.useRef(void 0);return a.useMemo(()=>{const f=e.context.dataRef.current;return f.hoverInteractionState||(f.hoverInteractionState={pointerTypeRef:t,interactedInsideRef:n,handlerRef:r,blockMouseMoveRef:o,performedPointerEventsMutationRef:s,unbindMouseMoveRef:i,restTimeoutPendingRef:c,openChangeTimeout:l,restTimeout:u,handleCloseOptionsRef:d}),f.hoverInteractionState},[e,t,n,r,o,s,i,c,l,u,d])}const sa=new Set(["click","mousedown"]);function ia(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),{dataRef:i}=n.context,{enabled:c=!0,closeDelay:l=0,externalTree:u}=t,{pointerTypeRef:d,interactedInsideRef:f,handlerRef:g,performedPointerEventsMutationRef:E,unbindMouseMoveRef:x,restTimeoutPendingRef:h,openChangeTimeout:v,handleCloseOptionsRef:b}=uo(n),m=nt(u),S=Ge(),R=G(()=>f.current?!0:i.current.openEvent?sa.has(i.current.openEvent.type):!1),p=G(()=>{const W=i.current.openEvent?.type;return W?.includes("mouse")&&W!=="mousedown"}),M=a.useCallback((W,q=!0)=>{const L=ca(l,d.current);L&&!g.current?v.start(L,()=>n.setOpen(!1,he(Fe,W))):q&&(v.clear(),n.setOpen(!1,he(Fe,W)))},[l,g,n,d,v]),T=G(()=>{x.current(),g.current=void 0}),O=G(()=>{if(E.current){const W=Ee(o).body;W.style.pointerEvents="",W.removeAttribute(In),E.current=!1}}),D=G(W=>{const q=Ne(W);if(!oa(q)){f.current=!1;return}f.current=!0});te(()=>{r||(d.current=void 0,h.current=!1,f.current=!1,T(),O())},[r,d,h,f,T,O]),a.useEffect(()=>()=>{T()},[T]),a.useEffect(()=>O,[O]),te(()=>{if(c&&r&&b.current?.blockPointerEvents&&p()&&Se(s)&&o){E.current=!0;const W=Ee(o).body;W.setAttribute(In,"");const q=s,L=o,C=m?.nodesRef.current.find(U=>U.id===S)?.context?.elements.floating;return C&&(C.style.pointerEvents=""),W.style.pointerEvents="none",q.style.pointerEvents="auto",L.style.pointerEvents="auto",()=>{W.style.pointerEvents="",q.style.pointerEvents="",L.style.pointerEvents=""}}},[c,r,s,o,b,p,m,S,E]),a.useEffect(()=>{if(!c)return;function W(U){if(R()||!i.current.floatingContext||!n.select("open"))return;const P=n.context.triggerElements;U.relatedTarget&&P.hasElement(U.relatedTarget)||(O(),T(),R()||M(U))}function q(U){v.clear(),O(),g.current?.(U),T()}function L(U){R()||M(U,!1)}const C=o;return C&&(C.addEventListener("mouseleave",W),C.addEventListener("mouseenter",q),C.addEventListener("mouseleave",L),C.addEventListener("pointerdown",D,!0)),()=>{C&&(C.removeEventListener("mouseleave",W),C.removeEventListener("mouseenter",q),C.removeEventListener("mouseleave",L),C.removeEventListener("pointerdown",D,!0))}})}function ca(e,t){return t&&!mt(t)?0:typeof e=="function"?e():e}function vn(e){return typeof e=="function"?e():e}const aa={current:null};function ua(e,t={}){const n="rootStore"in e?e.rootStore:e,{dataRef:r,events:o}=n.context,{enabled:s=!0,delay:i=0,handleClose:c=null,mouseOnly:l=!1,restMs:u=0,move:d=!0,triggerElementRef:f=aa,externalTree:g,isActiveTrigger:E=!0}=t,x=nt(g),{pointerTypeRef:h,interactedInsideRef:v,handlerRef:b,blockMouseMoveRef:m,performedPointerEventsMutationRef:S,unbindMouseMoveRef:R,restTimeoutPendingRef:p,openChangeTimeout:M,restTimeout:T,handleCloseOptionsRef:O}=uo(n),D=Me(c),W=Me(i),q=Me(u);E&&(O.current=D.current?.__options);const L=G(()=>v.current?!0:r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1),C=a.useCallback((B,I=!0)=>{const K=hn(W.current,"close",h.current);K&&!b.current?M.start(K,()=>n.setOpen(!1,he(Fe,B))):I&&(M.clear(),n.setOpen(!1,he(Fe,B)))},[W,b,n,h,M]),U=G(()=>{R.current(),b.current=void 0}),P=G(()=>{if(S.current){const B=Ee(n.select("domReferenceElement")).body;B.style.pointerEvents="",B.removeAttribute(In),S.current=!1}});a.useEffect(()=>{if(!s)return;function B(I){I.open||(M.clear(),T.clear(),m.current=!0,p.current=!1)}return o.on("openchange",B),()=>{o.off("openchange",B)}},[s,o,M,T,m,p]);const z=G(B=>{if(L()||!r.current.floatingContext)return;const I=n.context.triggerElements;if(B.relatedTarget&&I.hasElement(B.relatedTarget))return;const K=f.current;D.current?.({...r.current.floatingContext,tree:x,x:B.clientX,y:B.clientY,onClose(){P(),U(),!L()&&K===n.select("domReferenceElement")&&C(B)}})(B)});return a.useEffect(()=>{if(!s)return;const B=f.current??(E?n.select("domReferenceElement"):null);if(!Se(B))return;function I(X){if(M.clear(),m.current=!1,l&&!mt(h.current)||vn(q.current)>0&&!hn(W.current,"open"))return;const ie=hn(W.current,"open",h.current),N=n.select("domReferenceElement"),ue=n.context.triggerElements,de=(ue.hasElement(X.target)||ue.hasMatchingElement(H=>pe(H,X.target)))&&(!N||!pe(N,X.target)),ne=X.currentTarget??null,Y=!n.select("open")||de;ie?M.start(ie,()=>{Y&&n.setOpen(!0,he(Fe,X,ne))}):Y&&n.setOpen(!0,he(Fe,X,ne))}function K(X){if(L()){P();return}R.current();const ie=n.select("domReferenceElement"),N=Ee(ie);T.clear(),p.current=!1;const ue=n.context.triggerElements;if(X.relatedTarget&&ue.hasElement(X.relatedTarget))return;if(D.current&&r.current.floatingContext){n.select("open")||M.clear();const ne=f.current;b.current=D.current({...r.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){P(),U(),!L()&&ne===n.select("domReferenceElement")&&C(X,!0)}});const Y=b.current;Y(X),N.addEventListener("mousemove",Y),R.current=()=>{N.removeEventListener("mousemove",Y)};return}(h.current!=="touch"||!pe(n.select("floatingElement"),X.relatedTarget))&&C(X)}function _(X){z(X)}return n.select("open")&&B.addEventListener("mouseleave",_),d&&B.addEventListener("mousemove",I,{once:!0}),B.addEventListener("mouseenter",I),B.addEventListener("mouseleave",K),()=>{B.removeEventListener("mouseleave",_),d&&B.removeEventListener("mousemove",I),B.removeEventListener("mouseenter",I),B.removeEventListener("mouseleave",K)}},[U,P,m,r,W,C,n,s,D,z,E,L,l,d,h,q,T,p,M,f,x,R,b]),a.useMemo(()=>{function B(I){h.current=I.pointerType}return{onPointerDown:B,onPointerEnter:B,onMouseMove(I){const{nativeEvent:K}=I,_=I.currentTarget,X=n.select("domReferenceElement"),ie=n.context.triggerElements,N=n.select("open"),ue=(ie.hasElement(I.target)||ie.hasMatchingElement(ne=>pe(ne,I.target)))&&(!X||!pe(X,I.target));if(l&&!mt(h.current)||N&&!ue||vn(q.current)===0||!ue&&p.current&&I.movementX**2+I.movementY**2<2)return;T.clear();function de(){!m.current&&(!N||ue)&&n.setOpen(!0,he(Fe,K,_))}h.current==="touch"?Je.flushSync(()=>{de()}):ue&&N?de():(p.current=!0,T.start(vn(q.current),de))}}},[m,l,n,h,q,T,p])}function lo(e=[]){const t=e.map(u=>u?.reference),n=e.map(u=>u?.floating),r=e.map(u=>u?.item),o=e.map(u=>u?.trigger),s=a.useCallback(u=>Ht(u,e,"reference"),t),i=a.useCallback(u=>Ht(u,e,"floating"),n),c=a.useCallback(u=>Ht(u,e,"item"),r),l=a.useCallback(u=>Ht(u,e,"trigger"),o);return a.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:c,getTriggerProps:l}),[s,i,c,l])}function Ht(e,t,n){const r=new Map,o=n==="item",s={};n==="floating"&&(s.tabIndex=-1,s[Sn]="");for(const i in e)o&&e&&(i===Nr||i===Ar)||(s[i]=e[i]);for(let i=0;i<t.length;i+=1){let c;const l=t[i]?.[n];typeof l=="function"?c=e?l(e):null:c=l,c&&lr(s,c,o,r)}return lr(s,e,o,r),s}function lr(e,t,n,r){for(const o in t){const s=t[o];n&&(o===Nr||o===Ar)||(o.startsWith("on")?(r.has(o)||r.set(o,[]),typeof s=="function"&&(r.get(o)?.push(s),e[o]=(...i)=>r.get(o)?.map(c=>c(...i)).find(c=>c!==void 0))):e[o]=s)}}const la="Escape";function on(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function $t(e,t){return on(t,e===kn||e===Nt,e===Qe||e===Ze)}function En(e,t,n){return on(t,e===Nt,n?e===Qe:e===Ze)||e==="Enter"||e===" "||e===""}function fa(e,t,n){return on(t,n?e===Qe:e===Ze,e===Nt)}function da(e,t,n,r){const o=n?e===Ze:e===Qe,s=e===kn;return t==="both"||t==="horizontal"&&r&&r>1?e===la:on(t,o,s)}function pa(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),i=n.context.dataRef,{listRef:c,activeIndex:l,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:f=null,allowEscape:g=!1,loopFocus:E=!1,nested:x=!1,rtl:h=!1,virtual:v=!1,focusItemOnOpen:b="auto",focusItemOnHover:m=!0,openOnArrowKeyDown:S=!0,disabledIndices:R=void 0,orientation:p="vertical",parentOrientation:M,cols:T=1,scrollItemIntoView:O=!0,itemSizes:D,dense:W=!1,id:q,resetOnPointerLeave:L=!0,externalTree:C}=t,U=Xt(o),P=Me(U),z=Ge(),B=nt(C);te(()=>{i.current.orientation=p},[i,p]);const I=wn(s),K=a.useRef(b),_=a.useRef(f??-1),X=a.useRef(null),ie=a.useRef(!0),N=G(F=>{u(_.current===-1?null:_.current,F)}),ue=a.useRef(N),de=a.useRef(!!o),ne=a.useRef(r),Y=a.useRef(!1),H=a.useRef(!1),le=Me(R),oe=Me(r),w=Me(O),Q=Me(f),V=Me(L),ye=G(()=>{function F(xe){v?B?.events.emit("virtualfocus",xe):Yt(xe,{sync:Y.current,preventScroll:!0})}const ee=c.current[_.current],$=H.current;ee&&F(ee),(Y.current?xe=>xe():requestAnimationFrame)(()=>{const xe=c.current[_.current]||ee;if(!xe)return;ee||F(xe);const me=w.current;me&&A&&($||!ie.current)&&xe.scrollIntoView?.(typeof me=="boolean"?{block:"nearest",inline:"nearest"}:me)})});te(()=>{d&&(r&&o?(_.current=f??-1,K.current&&f!=null&&(H.current=!0,N())):de.current&&(_.current=-1,ue.current()))},[d,r,o,f,N]),te(()=>{if(d){if(!r){Y.current=!1;return}if(o)if(l==null){if(Y.current=!1,Q.current!=null)return;if(de.current&&(_.current=-1,ye()),(!ne.current||!de.current)&&K.current&&(X.current!=null||K.current===!0&&X.current==null)){let F=0;const ee=()=>{c.current[0]==null?(F<2&&(F?requestAnimationFrame:queueMicrotask)(ee),F+=1):(_.current=X.current==null||En(X.current,p,h)||x?mn(c):er(c),X.current=null,N())};ee()}}else Tt(c,l)||(_.current=l,ye(),H.current=!1)}},[d,r,o,l,Q,x,c,p,h,N,ye,le]),te(()=>{if(!d||o||!B||v||!de.current)return;const F=B.nodesRef.current,ee=F.find(xe=>xe.id===z)?.context?.elements.floating,$=Ke(Ee(o)),ge=F.some(xe=>xe.context&&pe(xe.context.elements.floating,$));ee&&!ge&&ie.current&&ee.focus({preventScroll:!0})},[d,o,B,z,v]),te(()=>{ue.current=N,ne.current=r,de.current=!!o}),te(()=>{r||(X.current=null,K.current=b)},[r,b]);const J=l!=null,A=a.useMemo(()=>{function F($){if(!oe.current)return;const ge=c.current.indexOf($.currentTarget);ge!==-1&&_.current!==ge&&(_.current=ge,N($))}return{onFocus($){Y.current=!0,F($)},onClick:({currentTarget:$})=>$.focus({preventScroll:!0}),onMouseMove($){Y.current=!0,H.current=!1,m&&F($)},onPointerLeave($){if(!oe.current||!ie.current||$.pointerType==="touch")return;Y.current=!0;const ge=$.relatedTarget;!m||c.current.includes(ge)||V.current&&(_.current=-1,N($),v||P.current?.focus({preventScroll:!0}))}}},[oe,P,m,c,N,V,v]),k=a.useCallback(()=>M??B?.nodesRef.current.find(F=>F.id===z)?.context?.dataRef?.current.orientation,[z,B,M]),re=G(F=>{if(ie.current=!1,Y.current=!0,F.which===229||!oe.current&&F.currentTarget===P.current)return;if(x&&da(F.key,p,h,T)){$t(F.key,k())||Oe(F),n.setOpen(!1,he(Wt,F.nativeEvent)),He(s)&&(v?B?.events.emit("virtualfocus",s):s.focus());return}const ee=_.current,$=mn(c,R),ge=er(c,R);if(I||(F.key==="Home"&&(Oe(F),_.current=$,N(F)),F.key==="End"&&(Oe(F),_.current=ge,N(F))),T>1){const xe=D||Array.from({length:c.current.length},()=>({width:1,height:1})),me=Ri(xe,T,W),Ce=me.findIndex(Le=>Le!=null&&!Mt(c,Le,R)),Pe=me.reduce((Le,Ue,ce)=>Ue!=null&&!Mt(c,Ue,R)?ce:Le,-1),_e=me[Ei({current:me.map(Le=>Le!=null?c.current[Le]:null)},{event:F,orientation:p,loopFocus:E,rtl:h,cols:T,disabledIndices:wi([...(typeof R!="function"?R:null)||c.current.map((Le,Ue)=>Mt(c,Ue,R)?Ue:void 0),void 0],me),minIndex:Ce,maxIndex:Pe,prevIndex:Si(_.current>ge?$:_.current,xe,me,T,F.key===Nt?"bl":F.key===(h?Qe:Ze)?"tr":"tl"),stopEvent:!0})];if(_e!=null&&(_.current=_e,N(F)),p==="both")return}if($t(F.key,p)){if(Oe(F),r&&!v&&Ke(F.currentTarget.ownerDocument)===F.currentTarget){_.current=En(F.key,p,h)?$:ge,N(F);return}En(F.key,p,h)?E?ee>=ge?g&&ee!==c.current.length?_.current=-1:(Y.current=!1,_.current=$):_.current=Ie(c,{startingIndex:ee,disabledIndices:R}):_.current=Math.min(ge,Ie(c,{startingIndex:ee,disabledIndices:R})):E?ee<=$?g&&ee!==-1?_.current=c.current.length:(Y.current=!1,_.current=ge):_.current=Ie(c,{startingIndex:ee,decrement:!0,disabledIndices:R}):_.current=Math.max($,Ie(c,{startingIndex:ee,decrement:!0,disabledIndices:R})),Tt(c,_.current)&&(_.current=-1),N(F)}}),Z=a.useMemo(()=>v&&r&&J&&{"aria-activedescendant":`${q}-${l}`},[v,r,J,q,l]),fe=a.useMemo(()=>({"aria-orientation":p==="both"?void 0:p,...I?{}:Z,onKeyDown(F){if(F.key==="Tab"&&F.shiftKey&&r&&!v){const ee=Ne(F.nativeEvent);if(ee&&!pe(P.current,ee))return;Oe(F),n.setOpen(!1,he(bt,F.nativeEvent)),He(s)&&s.focus();return}re(F)},onPointerMove(){ie.current=!0}}),[Z,re,P,p,I,n,r,v,s]),j=a.useMemo(()=>{function F($){b==="auto"&&jr($.nativeEvent)&&(K.current=!v)}function ee($){K.current=b,b==="auto"&&Fr($.nativeEvent)&&(K.current=!0)}return{onKeyDown($){const ge=n.select("open");ie.current=!1;const xe=$.key.startsWith("Arrow"),me=fa($.key,k(),h),Ce=$t($.key,p),Pe=(x?me:Ce)||$.key==="Enter"||$.key.trim()==="";if(v&&ge)return re($);if(!(!ge&&!S&&xe)){if(Pe){const _e=$t($.key,k());X.current=x&&_e?null:$.key}if(x){me&&(Oe($),ge?(_.current=mn(c,le.current),N($)):n.setOpen(!0,he(Wt,$.nativeEvent,$.currentTarget)));return}Ce&&(Q.current!=null&&(_.current=Q.current),Oe($),!ge&&S?n.setOpen(!0,he(Wt,$.nativeEvent,$.currentTarget)):re($),ge&&N($))}},onFocus($){n.select("open")&&!v&&(_.current=-1,N($))},onPointerDown:ee,onPointerEnter:ee,onMouseDown:F,onClick:F}},[re,le,b,c,x,N,n,S,p,k,h,Q,v]),se=a.useMemo(()=>({...Z,...j}),[Z,j]);return a.useMemo(()=>d?{reference:se,floating:fe,item:A,trigger:j}:{},[d,se,fe,j,A])}const ga=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function ma(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingId"),s=n.useState("domReferenceElement"),i=n.useState("floatingElement"),{enabled:c=!0,role:l="dialog"}=t,u=ut(),d=s?.id||u,f=a.useMemo(()=>Xt(i)?.id||o,[i,o]),g=ga.get(l)??l,x=Ge()!=null,h=a.useMemo(()=>g==="tooltip"||l==="label"?$e:{"aria-haspopup":g==="alertdialog"?"dialog":g,"aria-expanded":"false",...g==="listbox"&&{role:"combobox"},...g==="menu"&&x&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[g,x,l]),v=a.useMemo(()=>g==="tooltip"||l==="label"?{[`aria-${l==="label"?"labelledby":"describedby"}`]:r?f:void 0}:{...h,"aria-expanded":r?"true":"false","aria-controls":r?f:void 0,...g==="menu"&&{id:d}},[g,f,r,d,l,h]),b=a.useMemo(()=>{const S={id:f,...g&&{role:g}};return g==="tooltip"||l==="label"?S:{...S,...g==="menu"&&{"aria-labelledby":d}}},[g,f,d,l]),m=a.useCallback(({active:S,selected:R})=>{const p={role:"option",...S&&{id:`${f}-fui-option`}};switch(l){case"select":case"combobox":return{...p,"aria-selected":R}}return{}},[f,l]);return a.useMemo(()=>c?{reference:v,floating:b,item:m,trigger:h}:{},[c,v,b,h,m])}function ha(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.context.dataRef,{listRef:s,activeIndex:i,onMatch:c,onTypingChange:l,enabled:u=!0,findMatch:d=null,resetMs:f=750,ignoreKeys:g=Gt,selectedIndex:E=null}=t,x=Ae(),h=a.useRef(""),v=a.useRef(E??i??-1),b=a.useRef(null);te(()=>{r&&(x.clear(),b.current=null,h.current="")},[r,x]),te(()=>{r&&h.current===""&&(v.current=E??i??-1)},[r,E,i]);const m=G(M=>{M?o.current.typing||(o.current.typing=M,l?.(M)):o.current.typing&&(o.current.typing=M,l?.(M))}),S=G(M=>{function T(L,C,U){const P=d?d(C,U):C.find(z=>z?.toLocaleLowerCase().indexOf(U.toLocaleLowerCase())===0);return P?L.indexOf(P):-1}const O=s.current;if(h.current.length>0&&h.current[0]!==" "&&(T(O,O,h.current)===-1?m(!1):M.key===" "&&Oe(M)),O==null||g.includes(M.key)||M.key.length!==1||M.ctrlKey||M.metaKey||M.altKey)return;r&&M.key!==" "&&(Oe(M),m(!0)),O.every(L=>L?L[0]?.toLocaleLowerCase()!==L[1]?.toLocaleLowerCase():!0)&&h.current===M.key&&(h.current="",v.current=b.current),h.current+=M.key,x.start(f,()=>{h.current="",v.current=b.current,m(!1)});const W=v.current,q=T(O,[...O.slice((W||0)+1),...O.slice(0,(W||0)+1)],h.current);q!==-1?(c?.(q),b.current=q):M.key!==" "&&(h.current="",m(!1))}),R=a.useMemo(()=>({onKeyDown:S}),[S]),p=a.useMemo(()=>({onKeyDown:S,onKeyUp(M){M.key===" "&&m(!1)}}),[S,m]);return a.useMemo(()=>u?{reference:R,floating:p}:{},[u,R,p])}function fr(e,t){const[n,r]=e;let o=!1;const s=t.length;for(let i=0,c=s-1;i<s;c=i++){const[l,u]=t[i]||[0,0],[d,f]=t[c]||[0,0];u>=r!=f>=r&&n<=(d-l)*(r-u)/(f-u)+l&&(o=!o)}return o}function ba(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function ya(e={}){const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,o=new at;let s=!1,i=null,c=null,l=typeof performance<"u"?performance.now():0;function u(f,g){const E=performance.now(),x=E-l;if(i===null||c===null||x===0)return i=f,c=g,l=E,null;const h=f-i,v=g-c,m=Math.sqrt(h*h+v*v)/x;return i=f,c=g,l=E,m}const d=({x:f,y:g,placement:E,elements:x,onClose:h,nodeId:v,tree:b})=>function(S){function R(){o.clear(),h()}if(o.clear(),!x.domReference||!x.floating||E==null||f==null||g==null)return;const{clientX:p,clientY:M}=S,T=[p,M],O=Ne(S),D=S.type==="mouseleave",W=pe(x.floating,O),q=pe(x.domReference,O),L=x.domReference.getBoundingClientRect(),C=x.floating.getBoundingClientRect(),U=E.split("-")[0],P=f>C.right-C.width/2,z=g>C.bottom-C.height/2,B=ba(T,L),I=C.width>L.width,K=C.height>L.height,_=(I?L:C).left,X=(I?L:C).right,ie=(K?L:C).top,N=(K?L:C).bottom;if(W&&(s=!0,!D))return;if(q&&(s=!1),q&&!D){s=!0;return}if(D&&Se(S.relatedTarget)&&pe(x.floating,S.relatedTarget)||b&&it(b.nodesRef.current,v).some(({context:ne})=>ne?.open))return;if(U==="top"&&g>=L.bottom-1||U==="bottom"&&g<=L.top+1||U==="left"&&f>=L.right-1||U==="right"&&f<=L.left+1)return R();let ue=[];switch(U){case"top":ue=[[_,L.top+1],[_,C.bottom-1],[X,C.bottom-1],[X,L.top+1]];break;case"bottom":ue=[[_,C.top+1],[_,L.bottom-1],[X,L.bottom-1],[X,C.top+1]];break;case"left":ue=[[C.right-1,N],[C.right-1,ie],[L.left+1,ie],[L.left+1,N]];break;case"right":ue=[[L.right-1,N],[L.right-1,ie],[C.left+1,ie],[C.left+1,N]];break}function de([ne,Y]){switch(U){case"top":{const H=[I?ne+t/2:P?ne+t*4:ne-t*4,Y+t+1],le=[I?ne-t/2:P?ne+t*4:ne-t*4,Y+t+1],oe=[[C.left,P||I?C.bottom-t:C.top],[C.right,P?I?C.bottom-t:C.top:C.bottom-t]];return[H,le,...oe]}case"bottom":{const H=[I?ne+t/2:P?ne+t*4:ne-t*4,Y-t],le=[I?ne-t/2:P?ne+t*4:ne-t*4,Y-t],oe=[[C.left,P||I?C.top+t:C.bottom],[C.right,P?I?C.top+t:C.bottom:C.top+t]];return[H,le,...oe]}case"left":{const H=[ne+t+1,K?Y+t/2:z?Y+t*4:Y-t*4],le=[ne+t+1,K?Y-t/2:z?Y+t*4:Y-t*4];return[...[[z||K?C.right-t:C.left,C.top],[z?K?C.right-t:C.left:C.right-t,C.bottom]],H,le]}case"right":{const H=[ne-t,K?Y+t/2:z?Y+t*4:Y-t*4],le=[ne-t,K?Y-t/2:z?Y+t*4:Y-t*4],oe=[[z||K?C.left+t:C.right,C.top],[z?K?C.left+t:C.right:C.left+t,C.bottom]];return[H,le,...oe]}default:return[]}}if(!fr([p,M],ue)){if(s&&!B)return R();if(!D&&r){const ne=u(S.clientX,S.clientY);if(ne!==null&&ne<.1)return R()}fr([p,M],de([f,g]))?!s&&r&&o.start(40,R):R()}};return d.__options={blockPointerEvents:n},d}const fo="ArrowUp",po="ArrowDown",go="ArrowLeft",mo="ArrowRight",ho="Home",bo="End",xa=new Set([go,mo]),va=new Set([fo,po]),Ea=new Set([...xa,...va]);[...Ea];const Ra=new Set([fo,po,go,mo,ho,bo]);function Sa(e){return Er(19)?e:e?"true":void 0}const wa=a.forwardRef(function(t,n){const{cutout:r,...o}=t;let s;if(r){const i=r?.getBoundingClientRect();s=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${i.left}px ${i.top}px,
      ${i.left}px ${i.bottom}px,
      ${i.right}px ${i.bottom}px,
      ${i.right}px ${i.top}px,
      ${i.left}px ${i.top}px
    )`}return y.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...o,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:s}})});let dr={},pr={},gr="";function Ca(e){if(typeof document>"u")return!1;const t=et(e);return kt(t).innerWidth-t.documentElement.clientWidth>0}function Ta(e){const t=et(e),n=t.documentElement,r=t.body,o=Rr(n)?n:r,s=o.style.overflow;return o.style.overflow="hidden",()=>{o.style.overflow=s}}function Ma(e){const t=et(e),n=t.documentElement,r=t.body,o=kt(n);let s=0,i=0;const c=ze.create(),l=typeof CSS<"u"&&CSS.supports?.("scrollbar-gutter","stable");if(di&&(o.visualViewport?.scale??1)!==1)return()=>{};function u(){const g=o.getComputedStyle(n),E=o.getComputedStyle(r),v=(g.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";s=n.scrollTop,i=n.scrollLeft,dr={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},gr=n.style.scrollBehavior,pr={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};const b=n.scrollHeight>n.clientHeight,m=n.scrollWidth>n.clientWidth,S=g.overflowY==="scroll"||E.overflowY==="scroll",R=g.overflowX==="scroll"||E.overflowX==="scroll",p=Math.max(0,o.innerWidth-n.clientWidth),M=Math.max(0,o.innerHeight-n.clientHeight),T=parseFloat(E.marginTop)+parseFloat(E.marginBottom),O=parseFloat(E.marginLeft)+parseFloat(E.marginRight),D=Rr(n)?n:r;if(l){n.style.scrollbarGutter=v,D.style.overflowY="hidden",D.style.overflowX="hidden";return}Object.assign(n.style,{scrollbarGutter:v,overflowY:"hidden",overflowX:"hidden"}),(b||S)&&(n.style.overflowY="scroll"),(m||R)&&(n.style.overflowX="scroll"),Object.assign(r.style,{position:"relative",height:T||M?`calc(100dvh - ${T+M}px)`:"100dvh",width:O||p?`calc(100vw - ${O+p}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),r.scrollTop=s,r.scrollLeft=i,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function d(){Object.assign(n.style,dr),Object.assign(r.style,pr),l||(n.scrollTop=s,n.scrollLeft=i,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=gr)}function f(){d(),c.request(u)}return u(),o.addEventListener("resize",f),()=>{c.cancel(),d(),typeof o.removeEventListener=="function"&&o.removeEventListener("resize",f)}}class Ia{lockCount=0;restore=null;timeoutLock=at.create();timeoutUnlock=at.create();acquire(t){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(t)),this.release}release=()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(t){if(this.lockCount===0||this.restore!==null)return;const r=et(t).documentElement,o=kt(r).getComputedStyle(r).overflowY;if(o==="hidden"||o==="clip"){this.restore=On;return}const s=pi||!Ca(t);this.restore=s?Ta(t):Ma(t)}}const Oa=new Ia;function Pa(e=!0,t=null){te(()=>{if(e)return Oa.acquire(t)},[e,t])}function ka(e){const t=a.useRef(""),n=a.useCallback(o=>{o.defaultPrevented||(t.current=o.pointerType,e(o,o.pointerType))},[e]);return{onClick:a.useCallback(o=>{if(o.detail===0){e(o,"keyboard");return}"pointerType"in o&&e(o,o.pointerType),e(o,t.current),t.current=""},[e]),onPointerDown:n}}function Na(e){const[t,n]=a.useState(null),r=G((c,l)=>{e||n(l)}),o=a.useCallback(()=>{n(null)},[]),{onClick:s,onPointerDown:i}=ka(r);return a.useMemo(()=>({openMethod:t,reset:o,triggerProps:{onClick:s,onPointerDown:i}}),[t,o,s,i])}const yo=a.createContext(void 0);function xo(){const e=a.useContext(yo);if(e===void 0)throw new Error(tt(13));return e}const Un={imageLoadingStatus:()=>null},Aa=a.forwardRef(function(t,n){const{className:r,render:o,...s}=t,[i,c]=a.useState("idle"),l=a.useMemo(()=>({imageLoadingStatus:i}),[i]),u=a.useMemo(()=>({imageLoadingStatus:i,setImageLoadingStatus:c}),[i,c]),d=Ye("span",t,{state:l,ref:n,props:s,stateAttributesMapping:Un});return y.jsx(yo.Provider,{value:u,children:d})});function La(e,{referrerPolicy:t,crossOrigin:n}){const[r,o]=a.useState("idle");return te(()=>{if(!e)return o("error"),On;let s=!0;const i=new window.Image,c=l=>()=>{s&&o(l)};return o("loading"),i.onload=c("loaded"),i.onerror=c("error"),t&&(i.referrerPolicy=t),i.crossOrigin=n??null,i.src=e,()=>{s=!1}},[e,n,t]),r}const ja=a.forwardRef(function(t,n){const{className:r,render:o,onLoadingStatusChange:s,referrerPolicy:i,crossOrigin:c,...l}=t,u=xo(),d=La(t.src,{referrerPolicy:i,crossOrigin:c}),f=G(x=>{s?.(x),u.setImageLoadingStatus(x)});te(()=>{d!=="idle"&&f(d)},[d,f]);const g=a.useMemo(()=>({imageLoadingStatus:d}),[d]);return Ye("img",t,{state:g,ref:n,props:l,stateAttributesMapping:Un,enabled:d==="loaded"})}),Fa=a.forwardRef(function(t,n){const{className:r,render:o,delay:s,...i}=t,{imageLoadingStatus:c}=xo(),[l,u]=a.useState(s===void 0),d=Ae();a.useEffect(()=>(s!==void 0&&d.start(s,()=>u(!0)),d.clear),[d,s]);const f=a.useMemo(()=>({imageLoadingStatus:c}),[c]);return Ye("span",t,{state:f,ref:n,props:i,stateAttributesMapping:Un,enabled:c!=="loaded"&&l})});function Da({className:e,...t}){return y.jsx(Aa,{className:De("inline-flex size-8 shrink-0 select-none items-center justify-center overflow-hidden rounded-full bg-background align-middle font-medium text-xs",e),"data-slot":"avatar",...t})}function _a({className:e,...t}){return y.jsx(ja,{className:De("size-full object-cover",e),"data-slot":"avatar-image",...t})}function Ba({className:e,...t}){return y.jsx(Fa,{className:De("flex size-full items-center justify-center rounded-full bg-muted",e),"data-slot":"avatar-fallback",...t})}const vo=a.createContext(void 0);function Eo(e){const t=a.useContext(vo);if(t===void 0&&!e)throw new Error(tt(33));return t}const Ro=a.createContext(void 0);function lt(e){const t=a.useContext(Ro);if(t===void 0&&!e)throw new Error(tt(36));return t}const Ha=a.createContext(void 0);function sn(e=!0){const t=a.useContext(Ha);if(t===void 0&&!e)throw new Error(tt(25));return t}const $a={type:"regular-item"};function Ua(e){const{closeOnClick:t,disabled:n=!1,highlighted:r,id:o,store:s,nativeButton:i,itemMetadata:c,nodeId:l}=e,u=a.useRef(null),d=sn(!0),f=d!==void 0,{events:g}=s.useState("floatingTreeRoot"),{getButtonProps:E,buttonRef:x}=Xr({disabled:n,focusableWhenDisabled:!0,native:i}),h=a.useCallback(b=>Ot({id:o,role:"menuitem",tabIndex:r?0:-1,onMouseMove(m){l&&g.emit("itemhover",{nodeId:l,target:m.currentTarget})},onMouseEnter(){c.type==="submenu-trigger"&&c.setActive()},onKeyUp(m){m.key===" "&&s.context.typingRef.current&&m.preventBaseUIHandler()},onClick(m){t&&g.emit("close",{domEvent:m,reason:qr})},onMouseUp(m){if(d){const S=d.initialCursorPointRef.current;if(d.initialCursorPointRef.current=null,f&&S&&Math.abs(m.clientX-S.x)<=1&&Math.abs(m.clientY-S.y)<=1)return}u.current&&s.context.allowMouseUpTriggerRef.current&&(!f||m.button===2)&&c.type==="regular-item"&&u.current.click()}},b,E),[o,r,E,t,g,s,f,d,c,l]),v=qt(u,x);return a.useMemo(()=>({getItemProps:h,itemRef:v}),[h,v])}const So=a.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function Va(){return a.useContext(So)}let za=(function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e})({});function wo(e={}){const{label:t,metadata:n,textRef:r,indexGuessBehavior:o,index:s}=e,{register:i,unregister:c,subscribeMapChange:l,elementsRef:u,labelsRef:d,nextIndexRef:f}=Va(),g=a.useRef(-1),[E,x]=a.useState(s??(o===za.GuessFromOrder?()=>{if(g.current===-1){const b=f.current;f.current+=1,g.current=b}return g.current}:-1)),h=a.useRef(null),v=a.useCallback(b=>{if(h.current=b,E!==-1&&b!==null&&(u.current[E]=b,d)){const m=t!==void 0;d.current[E]=m?t:r?.current?.textContent??b.textContent}},[E,u,d,t,r]);return te(()=>{if(s!=null)return;const b=h.current;if(b)return i(b,n),()=>{c(b)}},[s,i,c,n]),te(()=>{if(s==null)return l(b=>{const m=h.current?b.get(h.current)?.index:null;m!=null&&x(m)})},[s,l,x]),a.useMemo(()=>({ref:v,index:E}),[E,v])}const Ka=a.forwardRef(function(t,n){const{render:r,className:o,id:s,label:i,nativeButton:c=!1,disabled:l=!1,closeOnClick:u=!0,...d}=t,f=wo({label:i}),g=Eo(!0),E=Tr(s),{store:x}=lt(),h=x.useState("isActive",f.index),v=x.useState("itemProps"),{getItemProps:b,itemRef:m}=Ua({closeOnClick:u,disabled:l,highlighted:h,id:E,store:x,nativeButton:c,nodeId:g?.nodeId,itemMetadata:$a}),S=a.useMemo(()=>({disabled:l,highlighted:h}),[l,h]);return Ye("div",t,{state:S,props:[v,d,b],ref:[m,n,f.ref]})}),Wa=a.createContext(void 0);function Ya(e){return a.useContext(Wa)}function qa(e){return e==="starting"?ei:$e}const Ga={...Gr,...qi},Xa=a.forwardRef(function(t,n){const{render:r,className:o,finalFocus:s,...i}=t,{store:c}=lt(),{side:l,align:u}=Eo(),d=Ya()!=null,f=c.useState("open"),g=c.useState("transitionStatus"),E=c.useState("popupProps"),x=c.useState("mounted"),h=c.useState("instantType"),v=c.useState("activeTriggerElement"),b=c.useState("parent"),m=c.useState("lastOpenChangeReason"),S=c.useState("rootId"),R=c.useState("floatingRootContext"),p=c.useState("floatingTreeRoot"),M=c.useState("closeDelay"),T=c.useState("activeTriggerElement");ao({open:f,ref:c.context.popupRef,onComplete(){f&&c.context.onOpenChangeComplete?.(!0)}}),a.useEffect(()=>{function C(U){c.setOpen(!1,he(U.reason,U.domEvent))}return p.events.on("close",C),()=>{p.events.off("close",C)}},[p.events,c]);const O=c.useState("hoverEnabled"),D=c.useState("disabled");ia(R,{enabled:O&&!D&&b.type!=="context-menu"&&b.type!=="menubar",closeDelay:M});const W=a.useMemo(()=>({transitionStatus:g,side:l,align:u,open:f,nested:b.type==="menu",instant:h}),[g,l,u,f,b.type,h]),q=Ye("div",t,{state:W,ref:[n,c.context.popupRef],stateAttributesMapping:Ga,props:[E,{onKeyDown(C){d&&Ra.has(C.key)&&C.stopPropagation()}},qa(g),i,{"data-rootownerid":S}]});let L=b.type===void 0||b.type==="context-menu";return(v||b.type==="menubar"&&m!==Ln)&&(L=!0),y.jsx(bc,{context:R,modal:!1,disabled:!x,returnFocus:s===void 0?L:s,initialFocus:b.type!=="menu",restoreFocus:!0,externalTree:b.type!=="menubar"?p:void 0,previousFocusableElement:T,nextFocusableElement:b.type===void 0?c.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:b.type===void 0?c.context.beforeContentFocusGuardRef:void 0,children:q})}),Co=a.createContext(void 0);function Qa(){const e=a.useContext(Co);if(e===void 0)throw new Error(tt(32));return e}const Za=a.forwardRef(function(t,n){const{keepMounted:r=!1,...o}=t,{store:s}=lt();return s.useState("mounted")||r?y.jsx(Co.Provider,{value:r,children:y.jsx(dc,{ref:n,...o})}):null}),Ja=a.createContext(void 0);function To(){return a.useContext(Ja)?.direction??"ltr"}const eu=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:c,middlewareData:l}=t,{element:u,padding:d=0,offsetParent:f="real"}=Qo(e,t)||{};if(u==null)return{};const g=Zo(d),E={x:n,y:r},x=Jo(o),h=ts(x),v=await i.getDimensions(u),b=x==="y",m=b?"top":"left",S=b?"bottom":"right",R=b?"clientHeight":"clientWidth",p=s.reference[h]+s.reference[x]-E[x]-s.floating[h],M=E[x]-s.reference[x],T=f==="real"?await i.getOffsetParent?.(u):c.floating;let O=c.floating[R]||s.floating[h];(!O||!await i.isElement?.(T))&&(O=c.floating[R]||s.floating[h]);const D=p/2-M/2,W=O/2-v[h]/2-1,q=Math.min(g[m],W),L=Math.min(g[S],W),C=q,U=O-v[h]-L,P=O/2-v[h]/2+D,z=es(C,P,U),B=!l.arrow&&Pn(o)!=null&&P!==z&&s.reference[h]/2-(P<C?q:L)-v[h]/2<0,I=B?P<C?P-C:P-U:0;return{[x]:E[x]+I,data:{[x]:z,centerOffset:P-z-I,...B&&{alignmentOffset:I}},reset:B}}}),tu=(e,t)=>({...eu(e),options:[e,t]}),nu={name:"hide",async fn(e){const{width:t,height:n,x:r,y:o}=e.rects.reference,s=t===0&&n===0&&r===0&&o===0;return{data:{referenceHidden:(await ns().fn(e)).data?.referenceHidden||s}}}},ru={sideX:"left",sideY:"top"};function Mo(e,t,n){const r=e==="inline-start"||e==="inline-end";return{top:"top",right:r?n?"inline-start":"inline-end":"right",bottom:"bottom",left:r?n?"inline-end":"inline-start":"left"}[t]}function mr(e,t,n){const{rects:r,placement:o}=e;return{side:Mo(t,Kt(o),n),align:Pn(o)||"center",anchor:{width:r.reference.width,height:r.reference.height},positioner:{width:r.floating.width,height:r.floating.height}}}function ou(e){const{anchor:t,positionMethod:n="absolute",side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,collisionBoundary:c,collisionPadding:l=5,sticky:u=!1,arrowPadding:d=5,disableAnchorTracking:f=!1,keepMounted:g=!1,floatingRootContext:E,mounted:x,collisionAvoidance:h,shiftCrossAxis:v=!1,nodeId:b,adaptiveOrigin:m,lazyFlip:S=!1,externalTree:R}=e,[p,M]=a.useState(null);!x&&p!==null&&M(null);const T=h.side||"flip",O=h.align||"flip",D=h.fallbackAxisSide||"end",W=typeof t=="function"?t:void 0,q=G(W),L=W?q:t,C=Me(t),P=To()==="rtl",z=p||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":P?"left":"right","inline-start":P?"right":"left"}[r],B=s==="center"?z:`${z}-${s}`;let I=l;const K=1,_=r==="bottom"?K:0,X=r==="top"?K:0,ie=r==="right"?K:0,N=r==="left"?K:0;typeof I=="number"?I={top:I+_,right:I+N,bottom:I+X,left:I+ie}:I&&(I={top:(I.top||0)+_,right:(I.right||0)+N,bottom:(I.bottom||0)+X,left:(I.left||0)+ie});const ue={boundary:c==="clipping-ancestors"?"clippingAncestors":c,padding:I},de=a.useRef(null),ne=Me(o),Y=Me(i),oe=[os(ve=>{const Re=mr(ve,r,P),je=typeof ne.current=="function"?ne.current(Re):ne.current,ke=typeof Y.current=="function"?Y.current(Re):Y.current;return{mainAxis:je,crossAxis:ke,alignmentAxis:ke}},[typeof o!="function"?o:0,typeof i!="function"?i:0,P,r])],w=O==="none"&&T!=="shift",Q=!w&&(u||v||T==="shift"),V=T==="none"?null:rs({...ue,padding:{top:I.top+K,right:I.right+K,bottom:I.bottom+K,left:I.left+K},mainAxis:!v&&T==="flip",crossAxis:O==="flip"?"alignment":!1,fallbackAxisSideDirection:D}),ye=w?null:is(ve=>{const Re=et(ve.elements.floating).documentElement;return{...ue,rootBoundary:v?{x:0,y:0,width:Re.clientWidth,height:Re.clientHeight}:void 0,mainAxis:O!=="none",crossAxis:Q,limiter:u||v?void 0:cs(je=>{if(!de.current)return{};const{width:ke,height:qe}=de.current.getBoundingClientRect(),Be=Gn(Kt(je.placement)),rt=Be==="y"?ke:qe,cn=Be==="y"?I.left+I.right:I.top+I.bottom;return{offset:rt/2+cn/2}})}},[ue,u,v,I,O]);T==="shift"||O==="shift"||s==="center"?oe.push(ye,V):oe.push(V,ye),oe.push(ss({...ue,apply({elements:{floating:ve},rects:{reference:Re},availableWidth:je,availableHeight:ke}){Object.entries({"--available-width":`${je}px`,"--available-height":`${ke}px`,"--anchor-width":`${Re.width}px`,"--anchor-height":`${Re.height}px`}).forEach(([qe,Be])=>{ve.style.setProperty(qe,Be)})}}),tu(()=>({element:de.current||document.createElement("div"),padding:d,offsetParent:"floating"}),[d]),{name:"transformOrigin",fn(ve){const{elements:Re,middlewareData:je,placement:ke,rects:qe,y:Be}=ve,rt=Kt(ke),cn=Gn(rt),zn=de.current,Po=je.arrow?.x||0,ko=je.arrow?.y||0,No=zn?.clientWidth||0,Ao=zn?.clientHeight||0,an=Po+No/2,Kn=ko+Ao/2,Lo=Math.abs(je.shift?.y||0),jo=qe.reference.height/2,Rt=typeof o=="function"?o(mr(ve,r,P)):o,Fo=Lo>Rt,Do={top:`${an}px calc(100% + ${Rt}px)`,bottom:`${an}px ${-Rt}px`,left:`calc(100% + ${Rt}px) ${Kn}px`,right:`${-Rt}px ${Kn}px`}[rt],_o=`${an}px ${qe.reference.y+jo-Be}px`;return Re.floating.style.setProperty("--transform-origin",Q&&cn==="y"&&Fo?_o:Do),{}}},nu,m),te(()=>{!x&&E&&E.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[x,E]);const J=a.useMemo(()=>({elementResize:!f&&typeof ResizeObserver<"u",layoutShift:!f&&typeof IntersectionObserver<"u"}),[f]),{refs:A,elements:k,x:re,y:Z,middlewareData:fe,update:j,placement:se,context:F,isPositioned:ee,floatingStyles:$}=ea({rootContext:E,placement:B,middleware:oe,strategy:n,whileElementsMounted:g?void 0:(...ve)=>Xn(...ve,J),nodeId:b,externalTree:R}),{sideX:ge,sideY:xe}=fe.adaptiveOrigin||ru,me=ee?n:"fixed",Ce=a.useMemo(()=>m?{position:me,[ge]:re,[xe]:Z}:{position:me,...$},[m,me,ge,re,xe,Z,$]),Pe=a.useRef(null);te(()=>{if(!x)return;const ve=C.current,Re=typeof ve=="function"?ve():ve,ke=(hr(Re)?Re.current:Re)||null||null;ke!==Pe.current&&(A.setPositionReference(ke),Pe.current=ke)},[x,A,L,C]),a.useEffect(()=>{if(!x)return;const ve=C.current;typeof ve!="function"&&hr(ve)&&ve.current!==Pe.current&&(A.setPositionReference(ve.current),Pe.current=ve.current)},[x,A,L,C]),a.useEffect(()=>{if(g&&x&&k.domReference&&k.floating)return Xn(k.domReference,k.floating,j,J)},[g,x,k,j,J]);const _e=Kt(se),Le=Mo(r,_e,P),Ue=Pn(se)||"center",ce=!!fe.hide?.referenceHidden;te(()=>{S&&x&&ee&&M(_e)},[S,x,ee,_e]);const be=a.useMemo(()=>({position:"absolute",top:fe.arrow?.y,left:fe.arrow?.x}),[fe.arrow]),Te=fe.arrow?.centerOffset!==0;return a.useMemo(()=>({positionerStyles:Ce,arrowStyles:be,arrowRef:de,arrowUncentered:Te,side:Le,align:Ue,physicalSide:_e,anchorHidden:ce,refs:A,context:F,isPositioned:ee,update:j}),[Ce,be,de,Te,Le,Ue,_e,ce,A,F,ee,j])}function hr(e){return e!=null&&"current"in e}function su(e){const{children:t,elementsRef:n,labelsRef:r,onMapChange:o}=e,s=G(o),i=a.useRef(0),c=We(cu).current,l=We(iu).current,[u,d]=a.useState(0),f=a.useRef(u),g=G((b,m)=>{l.set(b,m??null),f.current+=1,d(f.current)}),E=G(b=>{l.delete(b),f.current+=1,d(f.current)}),x=a.useMemo(()=>{const b=new Map;return Array.from(l.keys()).filter(S=>S.isConnected).sort(au).forEach((S,R)=>{const p=l.get(S)??{};b.set(S,{...p,index:R})}),b},[l,u]);te(()=>{if(typeof MutationObserver!="function"||x.size===0)return;const b=new MutationObserver(m=>{const S=new Set,R=p=>S.has(p)?S.delete(p):S.add(p);m.forEach(p=>{p.removedNodes.forEach(R),p.addedNodes.forEach(R)}),S.size===0&&(f.current+=1,d(f.current))});return x.forEach((m,S)=>{S.parentElement&&b.observe(S.parentElement,{childList:!0})}),()=>{b.disconnect()}},[x]),te(()=>{f.current===u&&(n.current.length!==x.size&&(n.current.length=x.size),r&&r.current.length!==x.size&&(r.current.length=x.size),i.current=x.size),s(x)},[s,x,n,r,u]),te(()=>()=>{n.current=[]},[n]),te(()=>()=>{r&&(r.current=[])},[r]);const h=G(b=>(c.add(b),()=>{c.delete(b)}));te(()=>{c.forEach(b=>b(x))},[c,x]);const v=a.useMemo(()=>({register:g,unregister:E,subscribeMapChange:h,elementsRef:n,labelsRef:r,nextIndexRef:i}),[g,E,h,n,r,i]);return y.jsx(So.Provider,{value:v,children:t})}function iu(){return new Map}function cu(){return new Set}function au(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const uu=a.forwardRef(function(t,n){const{anchor:r,positionMethod:o="absolute",className:s,render:i,side:c,align:l,sideOffset:u=0,alignOffset:d=0,collisionBoundary:f="clipping-ancestors",collisionPadding:g=5,arrowPadding:E=5,sticky:x=!1,disableAnchorTracking:h=!1,collisionAvoidance:v=ni,...b}=t,{store:m}=lt(),S=Qa(),R=sn(!0),p=m.useState("parent"),M=m.useState("floatingRootContext"),T=m.useState("floatingTreeRoot"),O=m.useState("mounted"),D=m.useState("open"),W=m.useState("modal"),q=m.useState("activeTriggerElement"),L=m.useState("lastOpenChangeReason"),C=m.useState("floatingNodeId"),U=m.useState("floatingParentNodeId");let P=r,z=u,B=d,I=l,K=v;p.type==="context-menu"&&(P=r??p.context?.anchor,I=I??"start",!c&&I!=="center"&&(B=t.alignOffset??2,z=t.sideOffset??-5));let _=c,X=I;p.type==="menu"?(_=_??"inline-end",X=X??"start",K=t.collisionAvoidance??ri):p.type==="menubar"&&(_=_??"bottom",X=X??"start");const ie=p.type==="context-menu",N=ou({anchor:P,floatingRootContext:M,positionMethod:R?"fixed":o,mounted:O,side:_,sideOffset:z,align:X,alignOffset:B,arrowPadding:ie?0:E,collisionBoundary:f,collisionPadding:g,sticky:x,nodeId:C,keepMounted:S,disableAnchorTracking:h,collisionAvoidance:K,shiftCrossAxis:ie,externalTree:T}),ue=a.useMemo(()=>{const oe={};return D||(oe.pointerEvents="none"),{role:"presentation",hidden:!O,style:{...N.positionerStyles,...oe}}},[D,O,N.positionerStyles]);a.useEffect(()=>{function oe(w){w.open?(w.parentNodeId===C&&m.set("hoverEnabled",!1),w.nodeId!==C&&w.parentNodeId===m.select("floatingParentNodeId")&&m.setOpen(!1,he(wt))):w.parentNodeId===C&&w.reason!==wt&&m.set("hoverEnabled",!0)}return T.events.on("menuopenchange",oe),()=>{T.events.off("menuopenchange",oe)}},[m,T.events,C]),a.useEffect(()=>{if(m.select("floatingParentNodeId")==null)return;function oe(w){if(w.open||w.nodeId!==m.select("floatingParentNodeId"))return;const Q=w.reason??wt;m.setOpen(!1,he(Q))}return T.events.on("menuopenchange",oe),()=>{T.events.off("menuopenchange",oe)}},[T.events,m]),a.useEffect(()=>{function oe(w){!D||w.nodeId!==m.select("floatingParentNodeId")||w.target&&q&&q!==w.target&&m.setOpen(!1,he(wt))}return T.events.on("itemhover",oe),()=>{T.events.off("itemhover",oe)}},[T.events,D,q,m]),a.useEffect(()=>{const oe={open:D,nodeId:C,parentNodeId:U,reason:m.select("lastOpenChangeReason")};T.events.emit("menuopenchange",oe)},[T.events,D,m,C,U]);const de=a.useMemo(()=>({open:D,side:N.side,align:N.align,anchorHidden:N.anchorHidden,nested:p.type==="menu"}),[D,N.side,N.align,N.anchorHidden,p.type]),ne=a.useMemo(()=>({side:N.side,align:N.align,arrowRef:N.arrowRef,arrowUncentered:N.arrowUncentered,arrowStyles:N.arrowStyles,nodeId:N.context.nodeId}),[N.side,N.align,N.arrowRef,N.arrowUncentered,N.arrowStyles,N.context.nodeId]),Y=Ye("div",t,{state:de,stateAttributesMapping:Gr,ref:[n,m.useStateSetter("positionerElement")],props:[ue,b]}),H=O&&p.type!=="menu"&&(p.type!=="menubar"&&W&&L!==Fe||p.type==="menubar"&&p.context.modal);let le=null;return p.type==="menubar"?le=p.context.contentElement:p.type===void 0&&(le=q),y.jsxs(vo.Provider,{value:ne,children:[H&&y.jsx(wa,{ref:p.type==="context-menu"||p.type==="nested-context-menu"?p.context.internalBackdropRef:null,inert:Sa(!D),cutout:le}),y.jsx(oc,{id:C,children:y.jsx(su,{elementsRef:m.context.itemDomElements,labelsRef:m.context.itemLabels,children:Y})})]})}),lu=a.createContext(null);function Io(e){return a.useContext(lu)}const fu={...Zc,disabled:ae(e=>e.parent.type==="menubar"&&e.parent.context.disabled||e.disabled),modal:ae(e=>(e.parent.type===void 0||e.parent.type==="context-menu")&&(e.modal??!0)),allowMouseEnter:ae(e=>e.parent.type==="menu"?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:ae(e=>e.stickIfOpen),parent:ae(e=>e.parent),rootId:ae(e=>e.parent.type==="menu"?e.parent.store.select("rootId"):e.parent.type!==void 0?e.parent.context.rootId:e.rootId),activeIndex:ae(e=>e.activeIndex),isActive:ae((e,t)=>e.activeIndex===t),hoverEnabled:ae(e=>e.hoverEnabled),instantType:ae(e=>e.instantType),lastOpenChangeReason:ae(e=>e.openChangeReason),floatingTreeRoot:ae(e=>e.parent.type==="menu"?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:ae(e=>e.floatingNodeId),floatingParentNodeId:ae(e=>e.floatingParentNodeId),itemProps:ae(e=>e.itemProps),closeDelay:ae(e=>e.closeDelay),keyboardEventRelay:ae(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type==="menu")return e.parent.store.select("keyboardEventRelay")})};class Vn extends co{constructor(t){super({...du(),...t},{positionerRef:a.createRef(),popupRef:a.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:a.createRef(),beforeContentFocusGuardRef:a.createRef(),onOpenChangeComplete:void 0,triggerElements:new $n},fu),this.observe(ae(n=>n.allowMouseEnter),(n,r)=>{this.state.parent.type==="menu"&&n!==r&&this.state.parent.store.set("allowMouseEnter",n)}),this.unsubscribeParentListener=this.observe("parent",n=>{if(this.unsubscribeParentListener?.(),n.type==="menu"){this.unsubscribeParentListener=n.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=n.store.context.allowMouseUpTriggerRef;return}n.type!==void 0&&(this.context.allowMouseUpTriggerRef=n.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(t,n){this.state.floatingRootContext.context.events.emit("setOpen",{open:t,eventDetails:n})}static useStore(t,n){return We(()=>t??new Vn(n)).current}unsubscribeParentListener=null}function du(){return{...Qc(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new _n,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:$e,keyboardEventRelay:void 0,closeDelay:0}}const pu=a.createContext(void 0);function gu(){return a.useContext(pu)}function mu(e){const{children:t,open:n,onOpenChange:r,onOpenChangeComplete:o,defaultOpen:s=!1,disabled:i=!1,modal:c,loopFocus:l=!0,orientation:u="vertical",actionsRef:d,closeParentOnEsc:f=!1,handle:g,triggerId:E,defaultTriggerId:x=null,highlightItemOnHover:h=!0}=e,v=sn(!0),b=lt(!0),m=Io(),S=gu(),R=a.useMemo(()=>S&&b?{type:"menu",store:b.store}:m?{type:"menubar",context:m}:v&&!b?{type:"context-menu",context:v}:{type:void 0},[v,b,m,S]),p=Vn.useStore(g?.store,{parent:R}),M=p.useState("floatingTreeRoot"),T=eo(M),O=Ge();te(()=>{v&&!b?p.update({parent:{type:"context-menu",context:v},floatingNodeId:T,floatingParentNodeId:O}):b&&p.update({floatingNodeId:T,floatingParentNodeId:O})},[v,b,T,O,p]),p.useControlledProp("open",n,s),p.useControlledProp("activeTriggerId",E,x),p.useContextCallback("onOpenChangeComplete",o);const D=p.useState("open"),W=p.useState("activeTriggerElement"),q=p.useState("positionerElement"),L=p.useState("hoverEnabled"),C=p.useState("modal"),U=p.useState("disabled"),P=p.useState("lastOpenChangeReason"),z=p.useState("parent"),B=p.useState("activeIndex"),I=p.useState("payload"),K=p.useState("floatingParentNodeId"),_=a.useRef(null),X=K!=null;let ie;p.useSyncedValues({disabled:i,modal:z.type===void 0?c:void 0,rootId:ut()});const{openMethod:N,triggerProps:ue,reset:de}=Na(D);qc(p);const{forceUnmount:ne}=Gc(D,p,()=>{p.update({allowMouseEnter:!1,stickIfOpen:!0}),de()}),Y=a.useRef(z.type!=="context-menu"),H=Ae();a.useEffect(()=>{if(D||(_.current=null),z.type==="context-menu"){if(!D){H.clear(),Y.current=!1;return}H.start(500,()=>{Y.current=!0})}},[H,D,z.type]),Pa(D&&C&&P!==Fe&&N!=="touch",q),te(()=>{!D&&!L&&p.set("hoverEnabled",!0)},[D,L,p]);const le=a.useRef(!0),oe=Ae(),w=G((ce,be)=>{const Te=be.reason;if(D===ce&&be.trigger===W||(be.preventUnmountOnClose=()=>{p.set("preventUnmountingOnClose",!0)},!ce&&be.trigger==null&&(be.trigger=W??void 0),r?.(ce,be),be.isCanceled))return;const ve={open:ce,nativeEvent:be.event,reason:be.reason,nested:X};ie?.emit("openchange",ve);const Re=be.event;if(ce===!1&&Re?.type==="click"&&Re.pointerType==="touch"&&!le.current)return;if(!ce&&B!==null){const Be=p.context.itemDomElements.current[B];queueMicrotask(()=>{Be?.setAttribute("tabindex","-1")})}ce&&Te===en?(le.current=!1,oe.start(300,()=>{le.current=!0})):(le.current=!0,oe.clear());const je=(Te===ct||Te===qr)&&Re.detail===0&&Re?.isTrusted,ke=!ce&&(Te===jn||Te==null);function qe(){const Be={open:ce,openChangeReason:Te};_.current=be.event??null;const rt=be.trigger?.id??null;(rt||ce)&&(Be.activeTriggerId=rt,Be.activeTriggerElement=be.trigger??null),p.update(Be)}Te===Fe?Je.flushSync(qe):qe(),z.type==="menubar"&&(Te===en||Te===bt||Te===Fe||Te===Wt||Te===wt)?p.set("instantType","group"):je||ke?p.set("instantType",je?"click":"dismiss"):p.set("instantType",void 0)}),Q=a.useCallback(ce=>{const be=he(ce);return be.preventUnmountOnClose=()=>{p.set("preventUnmountingOnClose",!0)},be},[p]),V=a.useCallback(()=>{p.setOpen(!1,Q(Ki))},[p,Q]);a.useImperativeHandle(d,()=>({unmount:ne,close:V}),[ne,V]);let ye;z.type==="context-menu"&&(ye=z.context),a.useImperativeHandle(ye?.positionerRef,()=>q,[q]),a.useImperativeHandle(ye?.actionsRef,()=>({setOpen:w}),[w]);const J=ta({popupStore:p,onOpenChange:w});ie=J.context.events,a.useEffect(()=>{const ce=({open:be,eventDetails:Te})=>w(be,Te);return ie.on("setOpen",ce),()=>{ie?.off("setOpen",ce)}},[ie,w]);const A=Ec(J,{enabled:!U,bubbles:f&&z.type==="menu",outsidePress(){return z.type!=="context-menu"||_.current?.type==="contextmenu"?!0:Y.current},externalTree:X?M:void 0}),k=ma(J,{role:"menu"}),re=To(),Z=a.useCallback(ce=>{p.select("activeIndex")!==ce&&p.set("activeIndex",ce)},[p]),fe=pa(J,{enabled:!U,listRef:p.context.itemDomElements,activeIndex:B,nested:z.type!==void 0,loopFocus:l,orientation:u,parentOrientation:z.type==="menubar"?z.context.orientation:void 0,rtl:re==="rtl",disabledIndices:Gt,onNavigate:Z,openOnArrowKeyDown:z.type!=="context-menu",externalTree:X?M:void 0,focusItemOnHover:h}),j=a.useCallback(ce=>{p.context.typingRef.current=ce},[p]),se=ha(J,{listRef:p.context.itemLabels,activeIndex:B,resetMs:Zs,onMatch:ce=>{D&&ce!==B&&p.set("activeIndex",ce)},onTypingChange:j}),{getReferenceProps:F,getFloatingProps:ee,getItemProps:$,getTriggerProps:ge}=lo([A,k,fe,se]),xe=a.useMemo(()=>{const ce=Ot(F(),{onMouseEnter(){p.set("hoverEnabled",!0)},onMouseMove(){p.set("allowMouseEnter",!0)}},ue);return delete ce.role,ce},[F,p,ue]),me=a.useMemo(()=>{const ce=ge();if(!ce)return ce;const be=Ot(ce,ue);return delete be.role,delete be["aria-controls"],be},[ge,ue]),Ce=rn(),Pe=a.useMemo(()=>ee({onMouseEnter(){z.type==="menu"&&Ce.request(()=>p.set("hoverEnabled",!1))},onMouseMove(){p.set("allowMouseEnter",!0)},onClick(){p.select("hoverEnabled")&&p.set("hoverEnabled",!1)},onKeyDown(ce){const be=p.select("keyboardEventRelay");be&&!ce.isPropagationStopped()&&be(ce)}}),[ee,z.type,Ce,p]),_e=a.useMemo(()=>$(),[$]);p.useSyncedValues({floatingRootContext:J,activeTriggerProps:xe,inactiveTriggerProps:me,popupProps:Pe,itemProps:_e});const Le=a.useMemo(()=>({store:p,parent:R}),[p,R]),Ue=y.jsx(Ro.Provider,{value:Le,children:typeof t=="function"?t({payload:I}):t});return z.type===void 0||z.type==="context-menu"?y.jsx(sc,{externalTree:M,children:Ue}):Ue}function hu(e){const t=e.getBoundingClientRect(),n=window.getComputedStyle(e,"::before"),r=window.getComputedStyle(e,"::after");if(!(n.content!=="none"||r.content!=="none"))return t;const s=parseFloat(n.width)||0,i=parseFloat(n.height)||0,c=parseFloat(r.width)||0,l=parseFloat(r.height)||0,u=Math.max(t.width,s,c),d=Math.max(t.height,i,l),f=u-t.width,g=d-t.height;return{left:t.left-f/2,right:t.right+f/2,top:t.top-g/2,bottom:t.bottom+g/2}}function bu(e={}){const{highlightItemOnHover:t,highlightedIndex:n,onHighlightedIndexChange:r}=Dn(),{ref:o,index:s}=wo(e),i=n===s,c=a.useRef(null),l=qt(o,c);return{compositeProps:a.useMemo(()=>({tabIndex:i?0:-1,onFocus(){r(s)},onMouseMove(){const d=c.current;if(!t||!d)return;const f=d.hasAttribute("disabled")||d.ariaDisabled==="true";!i&&!f&&d.focus()}}),[i,r,s,t]),compositeRef:l,index:s}}function yu(e){const{render:t,className:n,state:r=$e,props:o=Gt,refs:s=Gt,metadata:i,stateAttributesMapping:c,tag:l="div",...u}=e,{compositeProps:d,compositeRef:f}=bu({metadata:i});return Ye(l,e,{state:r,ref:[...s,f],props:[d,...o,u],stateAttributesMapping:c})}function Oo(e){if(He(e)&&e.hasAttribute("data-rootownerid"))return e.getAttribute("data-rootownerid")??void 0;if(!zt(e))return Oo(vr(e))}function xu(e){const{enabled:t=!0,mouseDownAction:n,open:r}=e,o=a.useRef(!1);return a.useMemo(()=>t?{onMouseDown:s=>{(n==="open"&&!r||n==="close"&&r)&&(o.current=!0,et(s.currentTarget).addEventListener("click",()=>{o.current=!1},{once:!0}))},onClick:s=>{o.current&&(o.current=!1,s.preventBaseUIHandler())}}:$e,[t,n,r])}const Ut=2,vu=a.forwardRef(function(t,n){const{render:r,className:o,disabled:s=!1,nativeButton:i=!0,id:c,openOnHover:l,delay:u=100,closeDelay:d=0,handle:f,payload:g,...E}=t,x=lt(!0),h=f?.store??x?.store;if(!h)throw new Error(tt(85));const v=Tr(c),b=h.useState("isTriggerActive",v),m=h.useState("floatingRootContext"),S=h.useState("isOpenedByTrigger",v),R=a.useRef(null),p=Ru(),M=Dn(!0),T=nt(),O=a.useMemo(()=>T??new _n,[T]),D=eo(O),W=Ge(),{registerTrigger:q,isMountedByThisTrigger:L}=Yc(v,R,h,{payload:g,closeDelay:d,parent:p,floatingTreeRoot:O,floatingNodeId:D,floatingParentNodeId:W,keyboardEventRelay:M?.relayKeyboardEvent}),C=h.useState("disabled"),U=s||C||p.type==="menubar"&&p.context.disabled,{getButtonProps:P,buttonRef:z}=Xr({disabled:U,native:i});a.useEffect(()=>{!S&&p.type===void 0&&(h.context.allowMouseUpTriggerRef.current=!1)},[h,S,p.type]);const B=a.useRef(null),I=Ae(),K=G(k=>{if(!B.current)return;I.clear(),h.context.allowMouseUpTriggerRef.current=!1;const re=k.target;if(pe(B.current,re)||pe(h.select("positionerElement"),re)||re===B.current||re!=null&&Oo(re)===h.select("rootId"))return;const Z=hu(B.current);k.clientX>=Z.left-Ut&&k.clientX<=Z.right+Ut&&k.clientY>=Z.top-Ut&&k.clientY<=Z.bottom+Ut||O.events.emit("close",{domEvent:k,reason:zi})});a.useEffect(()=>{S&&h.select("lastOpenChangeReason")===Fe&&et(B.current).addEventListener("mouseup",K,{once:!0})},[S,K,h]);const _=p.type==="menubar"&&p.context.hasSubmenuOpen,ie=ua(m,{enabled:(l??_??!1)&&!U&&p.type!=="context-menu"&&(p.type!=="menubar"||_&&!L),handleClose:ya({blockPointerEvents:p.type!=="menubar"}),mouseOnly:!0,move:!1,restMs:p.type===void 0?u:void 0,delay:{close:d},triggerElementRef:R,externalTree:O,isActiveTrigger:b}),N=Eu(S,h.select("lastOpenChangeReason")),ue=yc(m,{enabled:!U&&p.type!=="context-menu",event:S&&p.type==="menubar"?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:p.type===void 0?N:!1}),de=na(m,{enabled:!U&&(p.type!=="menubar"&&S||_)}),ne=xu({open:S,enabled:p.type==="menubar",mouseDownAction:"open"}),Y=lo([ue,de]),H=p.type==="menubar",le=a.useMemo(()=>({disabled:U,open:S}),[U,S]),oe=h.useState("triggerProps",L),w=[B,n,z,q,R],Q=[Y.getReferenceProps(),ie??$e,oe,{"aria-haspopup":"menu",id:v,onMouseDown:k=>{if(h.select("open"))return;I.start(200,()=>{h.context.allowMouseUpTriggerRef.current=!0}),et(k.currentTarget).addEventListener("mouseup",K,{once:!0})}},H?{role:"menuitem"}:{},ne,E,P],V=a.useRef(null),ye=G(k=>{Je.flushSync(()=>{h.setOpen(!1,he(bt,k.nativeEvent,k.currentTarget))}),$i(V.current)?.focus()}),J=G(k=>{const re=h.select("positionerElement");if(re&&pt(k,re))h.context.beforeContentFocusGuardRef.current?.focus();else{Je.flushSync(()=>{h.setOpen(!1,he(bt,k.nativeEvent,k.currentTarget))});let Z=Hi(R.current);for(;Z!==null&&pe(re,Z)||Z?.hasAttribute("aria-hidden");){const fe=Z;if(Z=An(Z),Z===fe)break}Z?.focus()}}),A=Ye("button",t,{enabled:!H,stateAttributesMapping:rr,state:le,ref:w,props:Q});return H?y.jsx(yu,{tag:"button",render:r,className:o,state:le,refs:w,props:Q,stateAttributesMapping:rr}):S?y.jsxs(a.Fragment,{children:[y.jsx(xt,{ref:V,onFocus:ye},`${v}-pre-focus-guard`),y.jsx(a.Fragment,{children:A},v),y.jsx(xt,{ref:h.context.triggerFocusTargetRef,onFocus:J},`${v}-post-focus-guard`)]}):y.jsx(a.Fragment,{children:A},v)});function Eu(e,t){const n=Ae(),[r,o]=a.useState(!1);return te(()=>{e&&t==="trigger-hover"?(o(!0),n.start(Js,()=>{o(!1)})):e||(n.clear(),o(!1))},[e,t,n]),r}function Ru(){const e=sn(!0),t=lt(!0),n=Io();return a.useMemo(()=>n?{type:"menubar",context:n}:e&&!t?{type:"context-menu",context:e}:{type:void 0},[e,t,n])}const Su=a.forwardRef(function(t,n){const{className:r,render:o,orientation:s="horizontal",...i}=t,c=a.useMemo(()=>({orientation:s}),[s]);return Ye("div",t,{state:c,ref:n,props:[{role:"separator","aria-orientation":s},i]})}),wu=mu;function Cu(e){return y.jsx(vu,{"data-slot":"menu-trigger",...e})}function Tu({children:e,className:t,sideOffset:n=4,align:r="center",alignOffset:o,side:s="bottom",...i}){return y.jsx(Za,{children:y.jsx(uu,{align:r,alignOffset:o,className:"z-50","data-slot":"menu-positioner",side:s,sideOffset:n,children:y.jsx(Xa,{className:De("relative flex not-[class*='w-']:min-w-32 origin-(--transform-origin) rounded-md border bg-popover shadow-md outline-none focus:outline-none","transition-[transform,opacity] duration-150","data-[starting-style]:scale-90 data-[starting-style]:opacity-0","data-[ending-style]:scale-90 data-[ending-style]:opacity-0",t),"data-slot":"menu-popup",...i,children:y.jsx("div",{className:"max-h-(--available-height) w-full overflow-y-auto p-1",children:e})})})})}function Vt({className:e,inset:t,variant:n="default",...r}){return y.jsx(Ka,{className:De("[&_svg]:-mx-0.5 flex min-h-8 cursor-default select-none items-center gap-2 rounded px-2 py-1.5 text-sm outline-none data-disabled:pointer-events-none data-highlighted:bg-accent data-inset:ps-8 data-[variant=destructive]:text-destructive data-highlighted:text-accent-foreground data-disabled:opacity-50 [&_svg:not([class*='opacity-'])]:opacity-70 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),"data-inset":t,"data-slot":"menu-item","data-variant":n,...r})}function Mu({className:e,...t}){return y.jsx(Su,{className:De("mx-2 my-1 h-px bg-border",e),"data-slot":"menu-separator",...t})}function Iu(){const{user:e,logout:t}=$o(),n=Sr();if(!e)return y.jsx(Ct,{children:y.jsx(ft,{children:y.jsx(dt,{size:"lg",asChild:!0,tooltip:"",children:y.jsxs(st,{to:"/login",children:[y.jsx("div",{className:"flex size-8 items-center justify-center rounded-lg bg-sidebar-accent",children:y.jsx(Bs,{className:"size-4"})}),y.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[y.jsx("span",{className:"truncate font-medium",children:" / "}),y.jsx("span",{className:"truncate text-xs text-muted-foreground",children:""})]})]})})})});const r=()=>{t(),n({to:"/login"})};return y.jsx(Ct,{children:y.jsx(ft,{children:y.jsxs(wu,{children:[y.jsx(Cu,{className:"w-full outline-none","aria-label":"",children:y.jsx(dt,{size:"lg",asChild:!0,className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",tooltip:e.username,children:y.jsxs("div",{className:"flex size-full items-center gap-2",children:[y.jsxs(Da,{className:"size-8 rounded-lg",children:[y.jsx(_a,{src:e.avatarUrl||void 0,alt:e.username}),y.jsx(Ba,{className:"rounded-lg text-xs font-medium",children:e.username.slice(0,2).toUpperCase()})]}),y.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[y.jsx("span",{className:"truncate font-semibold",children:e.username}),y.jsx("span",{className:"truncate text-xs text-muted-foreground",children:""})]}),y.jsx(Ms,{className:"ml-auto size-4"})]})})}),y.jsxs(Tu,{side:"top",align:"end",sideOffset:8,className:"w-[--radix-popper-anchor-width] min-w-48",children:[y.jsxs(Vt,{onClick:()=>n({to:"/users/$userId",params:{userId:String(e.id)}}),children:[y.jsx(Qs,{className:"size-4"}),y.jsx("span",{children:""})]}),y.jsxs(Vt,{onClick:()=>n({to:"/users/$userId/following",params:{userId:String(e.id)}}),children:[y.jsx(Gs,{className:"size-4"}),y.jsx("span",{children:""})]}),y.jsxs(Vt,{onClick:()=>n({to:"/settings"}),children:[y.jsx(Ks,{className:"size-4"}),y.jsx("span",{children:""})]}),y.jsx(Mu,{}),y.jsxs(Vt,{onClick:r,children:[y.jsx($s,{className:"size-4"}),y.jsx("span",{children:""})]})]})]})})})}const Ou=[{type:"SNIPPET",label:"",icon:Os,color:"text-blue-600 dark:text-blue-400"},{type:"ARTICLE",label:"",icon:ks,color:"text-green-600 dark:text-green-400"},{type:"MOMENT",label:"",icon:wr,color:"text-amber-600 dark:text-amber-400"}],Pu=[{id:1,name:"JavaScript",icon:Rs,color:"text-yellow-500 dark:text-yellow-400"},{id:2,name:"Python",icon:Ys,color:"text-blue-500 dark:text-blue-400"},{id:3,name:"React",icon:vs,color:"text-cyan-500 dark:text-cyan-400"},{id:4,name:"Spring Boot",icon:Ds,color:"text-green-600 dark:text-green-400"},{id:5,name:"",icon:As,color:"text-purple-500 dark:text-purple-400"}];function ku(){return y.jsxs(as,{collapsible:"icon",children:[y.jsx(us,{children:y.jsxs(st,{to:"/",className:"flex items-center gap-2 px-2 py-1.5",children:[y.jsx(js,{className:"size-5 shrink-0 text-amber-600"}),y.jsx("span",{className:"text-base font-semibold group-data-[collapsible=icon]:hidden",children:"Synapse"})]})}),y.jsxs(ls,{children:[y.jsxs(ln,{children:[y.jsx(fn,{children:""}),y.jsx(dn,{children:y.jsxs(Ct,{children:[y.jsx(ft,{children:y.jsx(st,{to:"/","aria-label":"",children:({isActive:e})=>y.jsx(dt,{asChild:!0,isActive:e,tooltip:"",children:y.jsxs("div",{children:[y.jsx(wr,{}),y.jsx("span",{children:""})]})})})}),y.jsx(ft,{children:y.jsx(st,{to:"/search",search:{keyword:""},"aria-label":"",children:({isActive:e})=>y.jsx(dt,{asChild:!0,isActive:e,tooltip:"",children:y.jsxs("div",{children:[y.jsx(Cr,{}),y.jsx("span",{children:""})]})})})})]})})]}),y.jsxs(ln,{children:[y.jsx(fn,{children:""}),y.jsx(dn,{children:y.jsx(Ct,{children:Ou.map(({type:e,label:t,icon:n,color:r})=>y.jsx(ft,{children:y.jsx(st,{to:"/",search:{type:e},"aria-label":t,children:({isActive:o})=>y.jsx(dt,{asChild:!0,isActive:o,tooltip:t,children:y.jsxs("div",{children:[y.jsx(n,{className:De("h-4 w-4",r)}),y.jsx("span",{children:t})]})})})},e))})})]}),y.jsxs(ln,{children:[y.jsx(fn,{children:""}),y.jsx(dn,{children:y.jsx(Ct,{children:Pu.map(e=>y.jsx(ft,{children:y.jsx(st,{to:"/",search:{tag:e.name},"aria-label":e.name,children:({isActive:t})=>y.jsx(dt,{asChild:!0,isActive:t,tooltip:e.name,children:y.jsxs("div",{children:[y.jsx(e.icon,{className:De("h-4 w-4",e.color)}),y.jsx("span",{className:"truncate",children:e.name})]})})})},e.id))})})]})]}),y.jsx(fs,{children:y.jsx(Iu,{})})]})}function Nu({...e}){return y.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function Au({className:e,...t}){return y.jsx("ol",{className:De("wrap-break-word flex flex-wrap items-center gap-1.5 text-muted-foreground text-sm sm:gap-2.5",e),"data-slot":"breadcrumb-list",...t})}function Lu({className:e,...t}){return y.jsx("li",{className:De("inline-flex items-center gap-1.5",e),"data-slot":"breadcrumb-item",...t})}function ju({className:e,render:t,...n}){const r={className:De("transition-colors hover:text-foreground",e),"data-slot":"breadcrumb-link"};return ds({defaultTagName:"a",props:Ot(r,n),render:t})}function Fu({className:e,...t}){return y.jsx("span",{"aria-current":"page","aria-disabled":"true",className:De("font-normal text-foreground",e),"data-slot":"breadcrumb-page",role:"link",...t})}function Du({children:e,className:t,...n}){return y.jsx("li",{"aria-hidden":"true",className:De("opacity-80 [&>svg]:size-4",t),"data-slot":"breadcrumb-separator",role:"presentation",...n,children:e??y.jsx(Cs,{})})}function _u({items:e,className:t}){return y.jsx(Nu,{className:t,children:y.jsx(Au,{children:e.map((n,r)=>y.jsxs("div",{className:"flex items-center gap-1.5",children:[r>0&&y.jsx(Du,{}),y.jsx(Lu,{children:n.href?y.jsxs(ju,{render:y.jsx(st,{to:n.href}),children:[n.icon&&y.jsx(n.icon,{className:"h-4 w-4 mr-1","aria-hidden":"true"}),n.label]}):y.jsxs(Fu,{children:[n.icon&&y.jsx(n.icon,{className:"h-4 w-4 mr-1","aria-hidden":"true"}),n.label]})})]},n.id))})})}function Bu(){const e=ps(),t=[];for(const r of e){const o=r.staticData;if(o?.breadcrumb){const s=o.breadcrumb,i=typeof s.label=="function"?s.label(r):s.label;t.push({id:r.id,label:i,href:s.href})}}if(t.length===0)return[{id:"home",label:""}];t[0].label!==""&&t.unshift({id:"home",label:"",href:"/"});const n=t[t.length-1];return delete n.href,t}const Hu=["all","SNIPPET","ARTICLE","MOMENT"],$u={all:{label:"",shortLabel:""},SNIPPET:{label:"",shortLabel:""},ARTICLE:{label:"",shortLabel:""},MOMENT:{label:"",shortLabel:""}};function Uu(){const e=Sr(),t=bs(),[n,r]=a.useState(""),[o,s]=a.useState("all"),[i,c]=a.useState(!1),l=a.useRef(null),u=a.useRef(null),d=t.pathname==="/search",f=d?t.search:null;a.useEffect(()=>{f?(r(f.keyword??""),s(f.type??"all")):(r(""),s("all"))},[f]);const g=a.useCallback(()=>{n.trim()&&e({to:"/search",search:{keyword:n.trim(),...o!=="all"&&{type:o}}})},[n,o,e]),E=v=>{v.preventDefault(),g()},x=()=>{r(""),s("all"),l.current?.focus(),d&&e({to:"/"})},h=v=>{s(v),l.current?.focus()};return a.useEffect(()=>{const v=b=>{(b.metaKey||b.ctrlKey)&&b.key==="k"&&(b.preventDefault(),l.current?.focus()),b.key==="Escape"&&i&&(l.current?.blur(),c(!1))};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[i]),y.jsxs("form",{ref:u,onSubmit:E,className:"search-bar-container","data-focused":i,children:[y.jsxs("div",{className:"search-bar-inner",children:[y.jsx(Cr,{className:"search-bar-icon",strokeWidth:2,"aria-hidden":"true"}),y.jsx("input",{ref:l,type:"text",value:n,onChange:v=>r(v.target.value),onFocus:()=>c(!0),onBlur:()=>c(!1),placeholder:"...","aria-label":"",className:"search-bar-input"}),n&&y.jsx("button",{type:"button",onClick:x,"aria-label":"",className:"search-bar-clear",children:y.jsx(gs,{strokeWidth:2.5})})]}),y.jsx("div",{className:"search-bar-filters",children:Hu.map(v=>y.jsx("button",{type:"button","aria-pressed":o===v,onClick:()=>h(v),className:"search-bar-filter-chip","data-active":o===v,children:$u[v].shortLabel},v))})]})}function Vu(){return y.jsx("div",{className:"h-8 w-8"})}function zu(){const e=Bu();return y.jsx("header",{className:"sticky top-0 z-10 h-14 shrink-0 border-b bg-white dark:bg-gray-950 dark:border-gray-800",children:y.jsxs("div",{className:"h-full px-6 flex items-center justify-between gap-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(ms,{className:"-ml-1"}),y.jsx(_u,{items:e})]}),y.jsx(Uu,{}),y.jsx(Vu,{})]})})}function Qu({children:e}){return y.jsxs("div",{className:"flex min-h-screen w-full",children:[y.jsx(ku,{}),y.jsxs(hs,{children:[y.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-white focus:rounded focus:shadow-lg focus:outline-none",children:""}),y.jsx(zu,{}),y.jsx("main",{id:"main-content",tabIndex:-1,className:"p-4 sm:p-6 lg:p-8",children:e})]})]})}export{Da as A,qc as B,qu as C,Gc as D,Ki as E,ks as F,ta as G,ma as H,wa as I,Ec as J,Pa as K,Qu as L,wr as M,Ne as N,pe as O,$n as P,ae as Q,co as R,Ks as S,Zc as T,Qc as U,te as a,G as b,he as c,_a as d,Ba as e,Yu as f,Os as g,Xr as h,Gu as i,Yc as j,yc as k,lo as l,ti as m,Vi as n,Cs as o,Gr as p,qi as q,Fn as r,ao as s,Xu as t,Tr as u,Ra as v,bc as w,dc as x,Sa as y,Na as z};
