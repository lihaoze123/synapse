import{h as o}from"./index-Bm4W7kcw.js";const i={async getPosts(t={}){const{tag:a,type:e,page:d=0,size:n=10}=t,r=new URLSearchParams;a&&r.append("tag",a),e&&r.append("type",e),r.append("page",String(d)),r.append("size",String(n));const s=await o.get(`/posts?${r.toString()}`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch posts")},async getPost(t){const a=await o.get(`/posts/${t}`);if(a.data.success&&a.data.data)return a.data.data;throw new Error(a.data.message||"Failed to fetch post")},async createPost(t){const a=await o.post("/posts",t);if(a.data.success&&a.data.data)return a.data.data;throw new Error(a.data.message||"Failed to create post")},async updatePost(t,a){const e=await o.put(`/posts/${t}`,a);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.message||"Failed to update post")},async deletePost(t){const a=await o.delete(`/posts/${t}`);if(!a.data.success)throw new Error(a.data.message||"Failed to delete post")},async searchPosts(t){const{keyword:a,tag:e,type:d,page:n=0,size:r=10}=t,s=new URLSearchParams;s.append("keyword",a),d&&s.append("type",d),e&&s.append("tag",e),s.append("page",String(n)),s.append("size",String(r));const p=await o.get(`/posts/search?${s.toString()}`);if(p.data.success&&p.data.data)return p.data.data;throw new Error(p.data.message||"Failed to search posts")}};export{i as p};
