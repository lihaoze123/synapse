import{e as c,r as d,j as s,B as x}from"./index-Bm4W7kcw.js";import{F as p}from"./FollowStats-DyW8fLez.js";import{L as u,A as g,d as h,e as f,S as j}from"./Layout-D9T89pnA.js";import{u as N}from"./useAuth-2B9FPw-q.js";import{F as v}from"./Feed-DBOQaBDA.js";import{a as b}from"./useUsers-CYmB-Sqt.js";import"./FollowButton-CZO9unpF.js";import"./CodeBlock-C7OKY8nB.js";import"./users-DvomXxAS.js";function U(){const{user:e}=N(),r=c(),{data:t,isLoading:o,isFetchingNextPage:i,hasNextPage:n,fetchNextPage:l}=b(e?.id??0),a=d.useMemo(()=>t?.pages.flatMap(m=>m.content)??[],[t]);return e?s.jsx(u,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 py-8 bg-card rounded-xl border shadow-sm",children:[s.jsxs(g,{className:"h-24 w-24 ring-4 ring-border/30",children:[s.jsx(h,{src:e.avatarUrl||void 0,alt:e.username}),s.jsx(f,{className:"text-2xl font-medium",children:e.username.slice(0,2).toUpperCase()})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e.username}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.length>0?`${t?.pages[0]?.totalElements??0} 篇内容`:"暂无内容"})]}),s.jsx(p,{userId:e.id}),s.jsxs(x,{variant:"outline",size:"sm",onClick:()=>r({to:"/settings"}),children:[s.jsx(j,{className:"mr-1.5 h-4 w-4"}),"编辑资料"]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"我的内容"}),s.jsx(v,{posts:a,isLoading:o,isFetchingNextPage:i,hasNextPage:n,fetchNextPage:l,emptyMessage:"你还没有发布任何内容"})]})]})}):null}export{U as component};
